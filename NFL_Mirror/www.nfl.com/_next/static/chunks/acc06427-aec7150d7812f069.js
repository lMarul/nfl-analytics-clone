"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[445],{78312:function(e,t,n){var r=n(35273).hp;(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function i(){var e,t={},n=[],r=[],i=[],a=function(e,n){null!=n&&""!==n&&(t[e]=n)};return{add:a,addDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a(t,e[t])},addJson:function(e,t,i){i&&o(i)&&(e={keyIfEncoded:e,keyIfNotEncoded:t,json:i},r.push(e),n.push(e))},addContextEntity:function(e){i.push(e)},getPayload:function(){return t},getJson:function(){return n},withJsonProcessor:function(t){e=t},build:function(){return null==e||e(this,r,i),t}}}function o(e){if(!a(e))return!1;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function a(e){return null!=e&&(e.constructor===({}).constructor||e.constructor===[].constructor)}function l(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return null!=(t=null==e?void 0:e.map(function(e){if("function"!=typeof e)return e;try{return e.apply(void 0,n)}catch(e){}}).filter(Boolean))?t:[]}function c(e){return!!((e=e.split("."))&&1<e.length)&&function(e){if("*"===e[0]||"*"===e[1])return!1;if(0<e.slice(2).length){var t=!1,n=0;for(e=e.slice(2);n<e.length;n++)if("*"===e[n])t=!0;else if(t)return!1;return!0}return 2==e.length}(e)}function s(e){if(null!==(e=/^iglu:((?:(?:[a-zA-Z0-9-_]+|\*).)+(?:[a-zA-Z0-9-_]+|\*))\/([a-zA-Z0-9-_.]+|\*)\/jsonschema\/([1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)$/.exec(e))&&c(e[1]))return e.slice(1,6)}function u(e){if(e=s(e)){var t=e[0];return 5===e.length&&c(t)}return!1}function d(e){return Array.isArray(e)&&e.every(function(e){return"string"==typeof e})?e.every(function(e){return u(e)}):"string"==typeof e&&u(e)}function f(e){return!!(o(e)&&"sc"in e&&"dt"in e)&&"string"==typeof e.sc&&"object"===t(e.dt)}function v(e){return"function"==typeof e&&1>=e.length}function g(e){return v(e)||f(e)}function h(e){return!(!Array.isArray(e)||2!==e.length)&&(Array.isArray(e[1])?v(e[0])&&e[1].every(g):v(e[0])&&g(e[1]))}function p(e){return!(!Array.isArray(e)||2!==e.length)&&!!function(e){var n=0;if(null!=e&&"object"===t(e)&&!Array.isArray(e)){if(Object.prototype.hasOwnProperty.call(e,"accept")){if(!d(e.accept))return!1;n+=1}if(Object.prototype.hasOwnProperty.call(e,"reject")){if(!d(e.reject))return!1;n+=1}return 0<n&&2>=n}return!1}(e[0])&&(Array.isArray(e[1])?e[1].every(g):g(e[1]))}function m(e,t){if(!u(e))return!1;if(e=s(e),t=function(e){if(null!==(e=/^iglu:([a-zA-Z0-9-_.]+)\/([a-zA-Z0-9-_]+)\/jsonschema\/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$/.exec(e)))return e.slice(1,6)}(t),e&&t){if(!function(e,t){if(t=t.split("."),e=e.split("."),t&&e){if(t.length!==e.length)return!1;for(var n=0;n<e.length;n++)if(!w(t[n],e[n]))return!1;return!0}return!1}(e[0],t[0]))return!1;for(var n=1;5>n;n++)if(!w(e[n],t[n]))return!1;return!0}return!1}function w(e,t){return e&&t&&"*"===e||e===t}function y(e){return Array.isArray(e)?e:[e]}function b(e,t,n,r){var i;return e=y(e).map(function(e){e:if(f(e))e=[e];else{if(v(e)){t:{var i=void 0;try{var o=(i=e({event:t.getPayload(),eventType:n,eventSchema:r}),Array.isArray(i)&&i.every(f)||f(i)?i:void 0);break t}catch(e){}o=void 0}if(f(o)){e=[o];break e}if(Array.isArray(o)){e=o;break e}}e=void 0}if(e&&0!==e.length)return e}),(i=[]).concat.apply(i,e.filter(function(e){return null!=e&&e.filter(Boolean)}))}function _(e){var t=e.event;e=t.sc;var n=t.dt;return t=i(),e={sc:"sp/ue/1-0-0",dt:{sc:e,dt:n}},t.add("e","ue"),t.addJson("ue_px","ue_pr",e),t}function k(e){return _({event:{sc:"cv/re/1-0-1",dt:C({name:e.name,data:e.data})}})}function C(e,t){void 0===t&&(t={});var n,r={};for(n in e)(t[n]||null!==e[n]&&void 0!==e[n])&&(r[n]=e[n]);return r}function E(e){for(var t=e.length;0<=--t;)e[t]=0}function T(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function S(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function A(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function x(){this.strm=null,this.status=0,this.pending_buf=null,this.wrap=this.pending=this.pending_out=this.pending_buf_size=0,this.gzhead=null,this.gzindex=0,this.method=tY,this.last_flush=-1,this.w_mask=this.w_bits=this.w_size=0,this.window=null,this.window_size=0,this.head=this.prev=null,this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),tZ(this.dyn_ltree),tZ(this.dyn_dtree),tZ(this.bl_tree),this.bl_desc=this.d_desc=this.l_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),tZ(this.heap),this.heap_max=this.heap_len=0,this.depth=new Uint16Array(573),tZ(this.depth),this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.sym_end=this.sym_next=this.lit_bufsize=this.sym_buf=0}function I(e){(e=this.options=no({level:nm,method:ny,chunkSize:16384,windowBits:15,memLevel:8,strategy:nw},e||{})).raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&16>e.windowBits&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new nd,this.strm.avail_out=0;var t,n=ni.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==nh)throw Error(th[n]);if(e.header&&ni.deflateSetHeader(this.strm,e.header),e.dictionary){if(t="string"==typeof e.dictionary?nu(e.dictionary):"[object ArrayBuffer]"===nf.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=ni.deflateSetDictionary(this.strm,t))!==nh)throw Error(th[n]);this._dict_set=!0}}function R(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.total=this.check=this.dmax=this.flags=0,this.head=null,this.wnext=this.whave=this.wsize=this.wbits=0,this.window=null,this.extra=this.offset=this.length=this.bits=this.hold=0,this.distcode=this.lencode=null,this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.distdyn=this.lendyn=null,this.was=this.back=this.sane=0}function N(e){var t=this.options=no({chunkSize:65536,windowBits:15,to:""},e||{});if(t.raw&&0<=t.windowBits&&16>t.windowBits&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&16>t.windowBits)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&48>t.windowBits&&(15&t.windowBits||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new nd,this.strm.avail_out=0,(e=nj.inflateInit2(this.strm,t.windowBits))!==nK||(this.header=new nV,nj.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=nu(t.dictionary):"[object ArrayBuffer]"===nW.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=nj.inflateSetDictionary(this.strm,t.dictionary))!==nK)))throw Error(th[e])}function O(e){return!(!e||"string"!=typeof e.valueOf())}function L(e){return Number.isInteger&&Number.isInteger(e)||"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function M(e){if(!O(e)){e=e.text||"";var t=document.getElementsByTagName("title");t&&null!=t[0]&&(e=t[0].text)}return e}function D(e){var t=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(e);return t?t[1]:e}function P(e){var t=e.length;return"."===e.charAt(--t)&&(e=e.slice(0,t)),"*."===e.slice(0,2)&&(e=e.slice(1)),e}function U(e){var t=window,n=G("referrer",t.location.href)||G("referer",t.location.href);if(n)return n;if(e)return e;try{if(t.top)return t.top.document.referrer;if(t.parent)return t.parent.document.referrer}catch(e){}return document.referrer}function z(e,t,n,r){return void 0!==e&&(e.addEventListener?(e.addEventListener(t,n,r),!0):e.attachEvent?e.attachEvent("on"+t,n):void(e["on"+t]=n))}function G(e,t){return(e=RegExp("^[^#]*[?&]"+e+"=([^&#]*)").exec(t))?decodeURIComponent(e[1].replace(/\+/g," ")):null}function q(e,t,n){void 0===n&&(n=63072e3);try{var r=window.localStorage,i=Date.now()+1e3*n;return r.setItem("".concat(e,".expires"),i.toString()),r.setItem(e,t),!0}catch(e){return!1}}function B(e){try{var t=window.localStorage;return t.removeItem(e),t.removeItem(e+".expires"),!0}catch(e){return!1}}function H(e,t,n,r){return F(e,"",-1,"/",t,n,r)}function F(e,t,n,r,i,o,a){return 1<arguments.length?document.cookie=e+"="+encodeURIComponent(null!=t?t:"")+(n?"; Expires="+new Date(+new Date+1e3*n).toUTCString():"")+(r?"; Path="+r:"")+(i?"; Domain="+i:"")+(o?"; SameSite="+o:"")+(a?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}function j(e){try{var t=null==window?void 0:window.localStorage;return!!t&&(t.removeItem(e),!0)}catch(e){return!1}}function V(){"undefined"!=typeof window&&void 0!==window.localStorage&&localStorage.removeItem(n2.SAMPLING_STORAGE_RANDOM_NUMBER_KEY)}function W(e,t){return void 0!==e.act&&void 0!==e.act[t]&&void 0!==(e=e.act[t])?e:n2.DEFAULT_SAMPLING_ACTION[t]}function K(e,t){return e.length<=t?e:e.slice(0,t-3)+"..."}function J(e,n,r,i){var o=[ri.request_body,ri.response_body,ri.request_headers,ri.response_headers,ri.request_query],a={};if(n&&0<n.length)for(var l=0;l<n.length;l++){var c=n[l],s=c.conditions,u=void 0,d=["conditions"],f={};for(u in c)Object.prototype.hasOwnProperty.call(c,u)&&0>d.indexOf(u)&&(f[u]=c[u]);if(null!=c&&"function"==typeof Object.getOwnPropertySymbols){var v=0;for(u=Object.getOwnPropertySymbols(c);v<u.length;v++)0>d.indexOf(u[v])&&Object.prototype.propertyIsEnumerable.call(c,u[v])&&(f[u[v]]=c[u[v]])}u=f;try{e:{c=e;try{for(d=0;d<s.length;d++){var g=s[d];if(f=!1,0<Object.keys(g).length){v=0;for(var h=Object.entries(g);v<h.length;v++){var p=h[v],m=p[1],w=c[p[0]];if(0<m.length){for(var y=0,b=0,_=m;b<_.length;b++){var k=_[b],C="contains",E=k;if("object"===t(k)&&k.length?(C=k[1],E=k[0]):"boolean"!=typeof k&&null!==k||(C="equal",E=k),function(e,t,n){try{if("string"==typeof n&&"string"==typeof e&&"*"===n.trim())return!0;switch(t){case"==":case"equal":return e===n;case"!=":return e!==n;case">":return e>n;case"<":return e<n;case">=":return e>=n;case"<=":return e<=n;case"contains":return""!==n&&"string"==typeof e&&"string"==typeof n&&-1!==e.toLowerCase().indexOf(n.toLowerCase());default:return!1}}catch(e){return console.warn("Conviva App Tracker: Error in Compare values nwreq ".concat(e)),!1}}(w,C,E)){f=!0;break}if(f=!1,y+1===m.length)break;y++}if(!1===f)break}}}if(f){var T=!0;break e}}}catch(e){console.warn("Conviva App Tracker: Error in Applying nwreqConfig ".concat(e))}T=!1}if(T){c=0;for(var S=Object.entries(e);c<S.length;c++){var A=S[c],x=A[0],I=A[1];o.includes(x)||(a[x]=I)}c=0;for(var R=Object.entries(u);c<R.length;c++){var N=R[c];x=N[0],I=N[1];try{if(I&&0<u[x].length){if(d=!1,x!==ri.response_headers&&x!==ri.request_headers||(d=!0),x===ri.request_body){C=_=b=y=v=f=s=void 0,E=r;var O=e;void 0===E&&(E={});var L=rc(null==(C=null==E?void 0:E.requestDetails)?void 0:C.headers);if(void 0!==L&&(L.toLowerCase().includes("text/plain")||L.toLowerCase().includes("json")||L.toLowerCase().includes("text/javascript")||L.toLowerCase().includes("application/javascript")||L.toLowerCase().includes("text/html"))||void 0===L)try{if("string"==typeof(null==(_=null==E?void 0:E.requestDetails)?void 0:_.body)&&10240>=(null==(b=null==E?void 0:E.requestDetails)?void 0:b.body.length))try{O[ri.request_body]=JSON.parse(null==(y=null==E?void 0:E.requestDetails)?void 0:y.body)}catch(e){}else"object"===t(null==(v=null==E?void 0:E.requestDetails)?void 0:v.body)&&10240>=JSON.stringify(null==(f=null==E?void 0:E.requestDetails)?void 0:f.body).length&&(O[ri.request_body]=null==(s=null==E?void 0:E.requestDetails)?void 0:s.body)}catch(e){}}if(x===ri.response_body){var M=O=E=C=_=b=y=v=f=s=void 0,D=void 0,P=void 0,U=void 0,z=r,G=e;void 0===z&&(z={});e:{var q=null==(U=null==z?void 0:z.responseDetails)?void 0:U.headers;try{U=void 0;var B=(null!=q&&(U=q["content-length"]||q["Content-Length"]||q["Content-length"]),null==U||isNaN(U)?U:Number(U));break e}catch(e){}B=void 0}var H=rc(null==(P=null==z?void 0:z.responseDetails)?void 0:P.headers);if(void 0!==H&&(H.toLowerCase().includes("text/plain")||H.toLowerCase().includes("json")||H.toLowerCase().includes("text/javascript")||H.toLowerCase().includes("application/javascript")||H.toLowerCase().includes("text/html"))){if(void 0!==B&&10240>=B)if("string"==typeof(null==(D=null==z?void 0:z.responseDetails)?void 0:D.body))try{G[ri.response_body]=JSON.parse(null==(M=null==z?void 0:z.responseDetails)?void 0:M.body)}catch(e){}else"object"===t(null==(O=null==z?void 0:z.responseDetails)?void 0:O.body)&&(G[ri.response_body]=null==(E=null==z?void 0:z.responseDetails)?void 0:E.body);else if(void 0===B)try{if("string"==typeof(null==(C=null==z?void 0:z.responseDetails)?void 0:C.body)&&10240>=(null==(b=null==(_=null==z?void 0:z.responseDetails)?void 0:_.body)?void 0:b.length))try{G[ri.response_body]=JSON.parse(null==(y=null==z?void 0:z.responseDetails)?void 0:y.body)}catch(e){}else"object"===t(null==(v=null==z?void 0:z.responseDetails)?void 0:v.body)&&10240>=JSON.stringify(null==(f=null==z?void 0:z.responseDetails)?void 0:f.body).length&&(G[ri.response_body]=null==(s=null==z?void 0:z.responseDetails)?void 0:s.body)}catch(e){}}}x===ri.request_query&&function(e,t){try{var n=null==e?void 0:e.targetUrl;if(n&&"string"==typeof n&&n.includes("?")){var r=void 0;try{var i=n.indexOf("?");if(-1===i)return;var o=n.indexOf("#",i),a=-1!==o?n.substring(i+1,o):n.substring(i+1);if(!a||a.length>(t||10240))return;r="undefined"!=typeof URLSearchParams?new URLSearchParams(a):null}catch(e){return void console.warn("Conviva App Tracker: Error creating URLSearchParams: ".concat(e))}var l={};if(r instanceof URLSearchParams)r.forEach(function(e,t){l[t]=e});else{t=0;for(var c=n.substring(n.indexOf("?")+1).split("&");t<c.length;t++){var s=c[t];if(s){var u=s.indexOf("="),d=0<u?decodeURIComponent(s.substring(0,u)):decodeURIComponent(s);if(d){var f=0<u&&u<s.length-1?decodeURIComponent(s.substring(u+1)):"";l[d]=f}}}}0<Object.keys(l).length&&(e[ri.request_query]=l)}}catch(e){console.warn("Conviva App Tracker: Error parsing request query parameters: ".concat(e))}}(e,i);var F=function(e,t,n){var r={};try{for(var i=0;i<t.length;i++){var o=t[i],a=e,l=r;n&&(o=o.toLowerCase(),a=a&&Object.entries(a).reduce(function(e,t){var n=t[1];return e[t[0].toLowerCase()]=n,e},{}));for(var c=o.split("."),s=0;s<c.length;s++){var u=c[s];if(null==a||!a.hasOwnProperty(u))break;s===c.length-1?l[u]=a[u]:(l[u]=l[u]||{},a=a[u],l=l[u])}}}catch(e){console.warn("Conviva App Tracker: Error in filtering schema object nwreq ".concat(e))}return r}(e[x],u[x],d);0!==Object.keys(F).length&&(a[x]=F)}}catch(e){a[x]=void 0}}return a}}catch(e){console.warn("Conviva App Tracker: Error in collecting attributes nwreqConfig ".concat(e))}}for(a=em({},e),e=0;e<o.length;e++)n=o[e],null!=a&&a.hasOwnProperty(n)&&delete a[n];return a}function X(e,t,n,r){for(var i={},o=0;o<t.length;o++){var a=t[o],l=a.req,c=a.opt;a=a.smb;try{var s=r([{req:l,opt:c}],[],e,n);if((null==s?0:s.result)&&a&&Array.isArray(a)){var u=function(e,t,n){var r={};try{for(var i=0;i<t.length;i++){var o=t[i],a=e,l=r;n&&(o=o.toLowerCase(),a=a&&Object.entries(a).reduce(function(e,t){var n=t[1];return e[t[0].toLowerCase()]=n,e},{}));for(var c=o.split("."),s=0;s<c.length;s++){var u=c[s];if(null==a||!a.hasOwnProperty(u))break;if(s===c.length-1)l[u]=a[u];else{if(l[u]=l[u]||{},"string"==typeof(a=a[u])&&s<c.length-1)try{a=JSON.parse(a)}catch(e){}l=l[u]}}}}catch(e){console.warn("Conviva App Tracker: Error in filtering SSE object ".concat(e))}return r}(e,a,!1);return 0<Object.keys(u).length&&Object.assign(i,u),i}}catch(e){console.warn("Conviva App Tracker: Error in collecting conditional SSE attributes ".concat(e))}}return i}function Y(e,t,n){var r,i,o;return"translate.googleusercontent.com"===e?(""===n&&(n=t),e=D(t=null!==(i=t,r=(o=/^(?:https?|ftp)(?::\/*(?:[^?]+))([?][^#]+)/.exec(i))&&1<(null==o?void 0:o.length)?G("u",o[1]):null)&&void 0!==r?r:"")):"cc.bingj.com"!==e&&"webcache.googleusercontent.com"!==e||(e=D(t=document.links[0].href)),[e,t,n]}function Q(e,t){return void 0===t&&(t=1),"0"===e[0]?(e[7]=e[6],e[5]=e[4],e[3]++):e[3]=t,t=eL.v4(),e[6]=t,e[8]="",e[9]=void 0,t}function Z(e){e[4]=Math.round((new Date).getTime()/1e3)}function $(e){return{activateLCPObserver:function(){try{PerformanceObserver&&new PerformanceObserver(function(e){try{e.getEntries().forEach(function(e){var t;if("largest-contentful-paint"===e.entryType){var n=null==performance?void 0:performance.getEntriesByType("navigation"),r=void 0;n&&0<(null==n?void 0:n.length)&&(r=null==(t=n[0])?void 0:t.activationStart),rs=em(em({},e.toJSON()),{performanceNavigationActivationStart:null!=r?r:0})}})}catch(e){console.warn("convivaAppTracker error in conviva lcp observer "+e)}}).observe({type:"largest-contentful-paint",buffered:!0})}catch(e){console.warn("convivaAppTracker conviva_lcp failed "+e)}},contexts:function(){try{switch(e){case n2.PERFORMANCE_CONTEXT.DISABLED:return[];case n2.PERFORMANCE_CONTEXT.PERFORMANCE_NAVIGATION_TIMING:return function(){var e,t,n;try{var r=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{};if(r.getEntriesByType){var i=r.getEntriesByType("navigation")[0],o=null!=(e=null==r?void 0:r.timeOrigin)?e:0;if(!i)return[];var a={st:Math.floor(o+i.startTime),dls:Math.floor(o+i.domainLookupStart),dle:Math.floor(o+i.domainLookupEnd),rss:Math.floor(o+i.responseStart),rse:Math.floor(o+i.responseEnd),le:Math.floor(o+i.loadEventEnd),dur:Math.floor(o+i.duration),as:Math.floor(o+i.activationStart)};return(null==rs?void 0:rs.startTime)&&(a.lcp={rt:Math.floor(o+rs.startTime),url:128<(null==(t=null==rs?void 0:rs.url)?void 0:t.length)?null==(n=null==rs?void 0:rs.url)?void 0:n.substring(0,128):rs.url,sz:rs.size}),[{sc:"cv/pc/1-0-1",dt:a}]}return[]}catch(e){return console.warn("ConvivaAppTracker: issue will getting performance Navigation timing context"),[]}}();default:var t,r;return n(n([],(r=(t=(t=window).performance||t.mozPerformance||t.msPerformance||t.webkitPerformance).timing,t?[{sc:"w3/pt/1-0-0",dt:{navigationStart:r.navigationStart,domainLookupStart:r.domainLookupStart,domainLookupEnd:r.domainLookupEnd,responseStart:r.responseStart,responseEnd:r.responseEnd,loadEventEnd:r.loadEventEnd}}]:[]),!0),function(){var e,t,n;try{if(void 0!==(null==rs?void 0:rs.startTime)&&"number"==typeof(null==rs?void 0:rs.startTime))return[{sc:"cv/lcp/1-0-0",dt:{lcp:Math.round(rs.startTime)-(null!=(e=rs.performanceNavigationActivationStart)?e:0),url:128<(null==(t=null==rs?void 0:rs.url)?void 0:t.length)?null==(n=null==rs?void 0:rs.url)?void 0:n.substring(0,128):rs.url}}]}catch(e){}return[]}(),!0)}}catch(e){return console.warn("convivaAppTracker problem in perfromance context "+e),[]}}}}function ee(e,t,n,r,i,o){var a;try{var l,c=null,s=null!=(a=o.url)?a:"";if(!s)return!0;if(ry.some(function(e){return s.includes(e)}))return!1;var u=(l=new URL(s)).protocol.replace(":","");if(a=function(e,t){var n;return(e=en(e,{scheme:u,host:l.hostname,path:decodeURIComponent(l.pathname)},rp.NETWORK_REQUEST)).matched?e.opt?er(e.opt,{responseStatusCode:null!=(n=null==i?void 0:i.status)?n:0,duration:Date.now()-o.requestTimestamp},rp.NETWORK_REQUEST)===t:t:null},e&&null===c&&(c=a(e,!0)),t&&null===c&&(c=a(t,!1)),null===c){var d=(null==n?void 0:n.includes("*"))||(null==n?void 0:n.some(function(e){return!(!e||""===e)&&s.includes(e)})),f=null==r?void 0:r.some(function(e){return!(!e||""===e)&&s.includes(e)});c=!d||f}return!0===c}catch(e){return!0}}function et(e,t,n,r){try{var i,o=null;if(!(r=null!=r?r:""))return{result:!0};var a=(i=new URL(r)).protocol.replace(":","");return r=function(e,t){var r;if((e=en(e,em({scheme:a,host:i.hostname,path:decodeURIComponent(i.pathname)},n),rp.SSE_EVENT)).matched){if(e.opt){var o=er(e.opt,n,rp.SSE_EVENT);return!0!==(null==(r=null==e?void 0:e.item)?void 0:r.count)||o?{result:o===t,matchedConfig:e.item,shouldSend:!0}:{result:e.matched===t,matchedConfig:e.item,shouldSend:!1}}return{result:t,matchedConfig:e.item,shouldSend:!1}}return null},e&&null===o&&(o=r(e,!0)),t&&null===o&&(o=r(t,!1)),(!e||Array.isArray(e)&&0===e.length)&&null===o&&(o={result:!0}),o}catch(e){return{result:!0}}}function en(e,t,n){try{for(var r=0;r<e.length;r++){var i=e[r],o=i.opt;if(er(i.req,t,n))return{matched:!0,opt:o||null,item:i}}return{matched:!1,opt:null}}catch(e){return{matched:!1,opt:null}}}function er(e,t,n){try{if(!e)return!1;if("and"===e.type){for(var r=0,i=e.cond;r<i.length;r++)if(!er(i[r],t,n))return!1;return!0}if("or"===e.type){for(i=0,r=e.cond;i<r.length;i++)if(er(r[i],t,n))return!0;return!1}return n===rp.NETWORK_REQUEST?function(e,t){var n=e.key,r=e.op;if(e=e.val,!n||!r)return!1;switch(n){case"sch":return!!t.scheme&&ei(t.scheme,r,e);case"host":return!!t.host&&ei(t.host,r,e);case"path":return!!t.path&&ei(t.path,r,e);case"dur":return!!t.duration&&eo(t.duration,r,e);case"rsc":return void 0!==t.responseStatusCode&&0<=t.responseStatusCode&&eo(t.responseStatusCode,r,e);default:return!1}}(e,t):n===rp.CUSTOM_EVENT?function(e,t){var n=e.key,r=e.op;if(e=e.val,!n||!r)return!1;if(void 0!==t[n]){if(O(t[n]))return ei(t[n],r,e);if("boolean"==typeof t[n])switch(t=t[n],r){case"!=":return t!==e;case"==":return t===e;default:return!1}if(Number.isInteger(t[n]))return eo(t[n],r,e)}return!1}(e,t):n===rp.SSE_EVENT&&function(e,t){var n,r=e.key,i=e.op;if(e=e.val,!r||!i)return!1;switch(r){case"sch":return!!t.scheme&&ei(t.scheme,i,e);case"host":return!!t.host&&ei(t.host,i,e);case"path":return!!t.path&&ei(t.path,i,e);default:if(n=t,t=r?r.split(".").reduce(function(e,t){if(null!=e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return t=/^\d+$/.test(t)?Number(t):t,null==e?void 0:e[t]}},n):n,null!=t){if("string"==typeof t)return ei(t,i,e);if("boolean"==typeof t)switch(i){case"!=":return t!==e;case"==":return t===e;default:return!1}if("number"==typeof t&&Number.isInteger(t))return eo(t,i,e)}return!1}}(e,t)}catch(e){return!1}}function ei(e,t,n){var r;return"=="===t&&Array.isArray(n)?!!(r=n).includes("*")||r.some(function(t){return!(!t||""===t)&&e===t}):"contains"===t&&Array.isArray(n)?!!(r=n).includes("*")||r.some(function(t){return!(!t||""===t)&&e.includes(t)}):"sw"===t&&Array.isArray(n)?!!(r=n).includes("*")||r.some(function(t){return!(!t||""===t)&&e.startsWith(t)}):!("ew"!==t||!Array.isArray(n))&&(!!(r=n).includes("*")||r.some(function(t){return!(!t||""===t)&&e.endsWith(t)}))}function eo(e,n,r){if("in"===n.toLowerCase()&&Array.isArray(r))return r.includes(e);if("range"===n.toLowerCase()&&"object"===t(r)){n=r.min;var i=r.max,o=r.minExclusive;return r=r.maxExclusive,void 0!==n&&void 0!==i?e>=n&&e<=i:void 0!==o&&void 0!==r&&e>o&&e<r}if(L(r))switch(n){case"!=":return e!==r;case">":return e>r;case">=":return e>=r;case"<":return e<r;case"<=":return e<=r;case"==":return e===r}return!1}function ea(e,t,n){var r=null;e:{for(var i=0;i<e.length;i++){var o=e[i],a=o.opt;if(er(o.req,t,n)){if(!a){e=!0,a=null;break e}if(er(a,t,n)){e=!0;break e}}}e=!1,a=null}return e&&(r=!a||!!er(a,t,n)),r}function el(e,n,r){var i,o;try{if(e&&n){var a=null==e?void 0:e.getConfig(),l=function(e,n,r){var i,o,a,l={message:""};try{var c=r.message,s=r.error,u=r.className,d=r.extraData;if(c)l.message=c;else if("string"==typeof s){if(!(0<s.trim().length))return ez.warn("Conviva Eco Sensor:: Mandatory field message is missing"),null;l.message=s}else"object"===t(s)&&("string"==typeof s.message&&0<s.message.trim().length&&(l.message=K(s.message,n2.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_MESSAGE_LENGTH)),"string"==typeof s.name&&0<s.name.trim().length&&(l.exceptionName=K(s.name,n2.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_EXCEPTION_NAME_LENGTH)),"string"==typeof s.stack&&0<s.stack.trim().length&&(l.stackTrace=K(s.stack,n2.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_STACK_LENGTH)));if(0===l.message.trim().length)return ez.warn("Conviva Eco Sensor:: Mandatory field message is missing"),null;"string"==typeof u&&0<u.trim().length&&(l.className=K(u,n2.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_CLASSNAME_LENGTH)),null!=d&&(l.extraData=d);var f=null==e?void 0:e.getConfig();if((null==f?void 0:f.configurationVersion)&&(l.remoteConfigVersion=f.configurationVersion),(null==r?void 0:r.configAppliedTime)&&(l.configAppliedTime=null==r?void 0:r.configAppliedTime),(null==f?void 0:f.cacheRefreshInterval)&&(l.cacheRefreshInterval=f.cacheRefreshInterval),(null==r?void 0:r.configAppliedSrc)&&(l.configAppliedSrc=null==r?void 0:r.configAppliedSrc),localStorage){var v=localStorage.getItem(n2.SAMPLING_STORAGE_RANDOM_NUMBER_KEY);null!=v&&(l.samplingRandomNumber=parseFloat(v))}"number"==typeof(null==(o=null==(i=null==f?void 0:f.controlIngestConfig)?void 0:i.sel)?void 0:o.pct)?(l.samplingPercentage=f.controlIngestConfig.sel.pct,l.samplingDecision=n2.SAMPLING_STATUS.DERIVED,null!=t(null==(a=null==f?void 0:f.controlIngestConfig)?void 0:a.act)&&(l.extraData=em(em({},l.extraData),{samplingActionConfig:f.controlIngestConfig.act}))):l.samplingDecision=n2.SAMPLING_STATUS.DEFAULT,"function"==typeof n&&"string"==typeof n()&&(l.samplingStatus=n()==n2.SAMPLING_MODES.RCFG)}catch(e){return ez.warn("Error occurred while generating diagnostic object",e),null}return l}(e,n,r);l&&function(e){var t;try{var n=null==e?void 0:e.getConfig(),r=(null==(t=null==n?void 0:n.di)?void 0:t.lim)||10,i=Date.now();return 6e4<=i-rA&&(rS=0,rA=i),!(++rS>r)}catch(e){return ez.warn("Conviva Eco Sensor:: Error occured while checking diagnostic event is allowed",e),!1}}(e)&&("boolean"!=typeof(null==(i=null==a?void 0:a.di)?void 0:i.en)||!0!==(null==(o=null==a?void 0:a.di)?void 0:o.en)||null!=e&&e.track(_({event:{sc:"iglu:com.conviva/di/jsonschema/1-0-4",dt:C({msg:l.message,cn:l.className,st:l.stackTrace,en:l.exceptionName,ed:l.extraData,rcv:l.remoteConfigVersion,cat:l.configAppliedTime,cri:l.cacheRefreshInterval,csrc:l.configAppliedSrc,srn:l.samplingRandomNumber,spr:l.samplingPercentage,ss:l.samplingStatus,sd:l.samplingDecision})}})))}}catch(e){ez.warn("Conviva Eco Sensor:: Error occurred while sending reportDiagnosticError",e)}}function ec(){var e,t,n=null==(e=null==rE?void 0:rE.core)?void 0:e.getConfig();rU=(null==(rU=(null==(t=null==n?void 0:n.clickcc)?void 0:t.cssSelectorList)||rU)?void 0:rU.replace(/\s+/g,""))||""}function es(e,t){if(!(e instanceof HTMLElement||e instanceof SVGElement))return null;var n=null==e?void 0:e.closest(rM);if(n)return n;if(n=null==e?void 0:e.closest(rU))return function(e,t){if(0===(e=e.querySelectorAll(rM)).length)return null;if(1===e.length&&0<e[0].offsetWidth&&0<e[0].offsetHeight)return e[0];var n,r=t.clientX;if(t=t.clientY,e.length<=("IntersectionObserver"in window&&"fetch"in window&&"Promise"in window?n2.MAX_NATIVE_SCAN:n2.MAX_NATIVE_SCAN_LEGACY))for(var i=0;i<e.length;i++){var o=null==(n=e[i])?void 0:n.getBoundingClientRect();if(o&&r>=o.left&&r<=o.right&&t>=o.top&&t<o.bottom)return e[i]}return null}(n,t)||n;t=e,n=0;var r=n2.CLICK_MAX_DEPTH;if(function(e){if(e.style){if(e.style.visibility&&""!==e.style.visibility&&"hidden"==e.style.visibility||e.style.pointerEvents&&""!==e.style.pointerEvents&&"none"==e.style.pointerEvents)return!1;if(e.style.cursor&&""!==e.style.cursor&&"pointer"==e.style.cursor)return!0}return"hidden"!==(e=getComputedStyle(e)).visibility&&"none"!==e.pointerEvents&&"pointer"===e.cursor}(t)){for(;t&&t!==document.documentElement&&(t instanceof HTMLElement||t instanceof SVGElement)&&n<r;){if("function"==typeof t.onclick)return t;t=t.parentElement,n++}return e.closest(rD)||e}return null}function eu(e){try{var t=Date.now(),n=n2.CLICK_DEBOUNCING_DELAY;null===rO||t-rO>=n?(function(e){var t,n,r,i,o,a,l;try{var c=function(e,t){var n,r;try{if(!rE||!rE.core||!e)return null;var i=rE.core.getConfig();if(!0!==(null==(n=null==i?void 0:i.clickcc)?void 0:n.en))return null;var o=null==(r=null==i?void 0:i.clickcc)?void 0:r.uiMode;return o===rT.RAW?e:o===rT.BOTH?es(e,t)||e:es(e,t)}catch(e){return ez.warn("Conviva App Tracker caused Exception in getTrackedElement method of user click tracking module",e),null}}(((null==(u=(s=e).target)?void 0:u.shadowRoot)&&(f=null==(d=s.composedPath)?void 0:d.call(s)),f&&f[0]||s.target),e);if(c&&(c instanceof HTMLElement||c instanceof HTMLInputElement)){e={};var s,u,d,f,v,g,h,p,m,w=n2.CLICK_KEY_MAX_LENGTH;(null==c?0:c.id)&&(e.id=K(c.id,w)),(null==c?0:c.className)&&(e.class=K(c.className,w)),(null==c?0:c.tagName)&&(e.elementName=K(c.tagName.toLowerCase(),w)),(null==(t=null==c?void 0:c.innerText)?0:t.trim())&&(e.text=K(c.innerText.trim(),w)),(null==c?0:c.getAttribute("name"))&&(e.name=K(c.getAttribute("name")||"",w)),(null==c?0:c.getAttribute("type"))&&(e.elementType=K((null==(n=c.getAttribute("type"))?void 0:n.toLowerCase())||"",w)),(null==c?0:c.placeholder)&&(e.placeholder=K(c.placeholder,w)),(null==c?0:c.getAttribute("type"))&&"password"!==(null==c?void 0:c.getAttribute("type"))&&c.value&&(e.value=K(c.value,w));var y=null==(r=null==rE?void 0:rE.core)?void 0:r.getConfig(),b=null==(i=null==y?void 0:y.clickcc)?void 0:i.collectattr;if(b)for(t=0;t<b.length;t++){var _=b[t],C=null==c?void 0:c.getAttribute(_);C&&(e[_]=K(C,w))}try{if("A"===c.tagName.toUpperCase()||"AREA"===c.tagName.toUpperCase()){if(null!=c.href){var E=c.hostname||D(c.href),T=E.toLowerCase(),S=c.href.replace(E,T);/^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):/i.test(S)||(e.targetUrl=K(decodeURIComponent(S),w))}c.target&&(e.target=K(c.target,w))}}catch(e){ez.warn("Conviva App Tracker caused Exception in handleClick href setting",e)}var A=null==(o=c.querySelector("use"))?void 0:o.getAttribute("xlink:href");A&&(e["xlink:href"]=K(A,w));var x=null!=(a=null==y?void 0:y.clickcc)?a:{},I=(v={collect:x.collect,block:x.block},g=e,h=rp.CUSTOM_EVENT,p=v.collect,m=v.block,v=null,p&&(v=ea(p,g,h)),m&&null===v&&(g=ea(m,g,h),"boolean"==typeof g&&(v=!g)),null===v||v);("boolean"!=typeof I||!1!==I)&&(null==(l=null==rE?void 0:rE.core)||l.track(k({name:"conviva_click",data:JSON.stringify(e)})))}}catch(e){return void ez.warn("Conviva App Tracker caused Exception in handleClick method of user click tracking module",e)}}(e),0<rL&&el(rE.core,rE.getSamplingMode,{className:"clickTracking - droppedEvent",message:"total click events dropped to Avoid tracking spam from rapid clicks",extraData:{clickEventDropped:rL}}),rL=0):rL++,rO=t}catch(e){console.warn("Conviva App Tracker caused Exception in immediateClickHandler method of user click tracking module",e)}}function ed(){try{rR&&"undefined"!=typeof document&&document.body&&(rN&&(document.body.removeEventListener("click",rN),rN=null),rR=!1)}catch(e){ez.warn("Conviva App Tracker caused Exception in disableUserClickTracking method of user click tracking module",e)}}function ef(e){try{(null==rH?0:rH.isAllowedToSendEvent())&&eg({message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,error:e.error})}catch(e){console.warn("Conviva App Tracker caused Exception in captureError method of error tracking module",e)}}function ev(e){try{(null==rH?0:rH.isAllowedToSendEvent())&&eg({message:e.reason})}catch(e){console.warn("Conviva App Tracker caused Exception in captureRejection method of error tracking module",e)}}function eg(e){var t,n,r=e.message,i=e.filename,o=e.lineno,a=e.colno,l=e.error,c=e.context;if(e=e.timestamp,l=l&&l.stack?l.stack:void 0,void 0!==r&&(null!==r||void 0!==l)&&(null!==l||void 0!==o)&&(null!==o||void 0!==a)&&(null!==a||void 0!==i)&&null!==i){var s=null==(t=null==rB?void 0:rB.core)?void 0:t.getConfig();(null==s?0:s.exceptionAutotracking)&&(null==(n=null==rB?void 0:rB.core)||n.track(_({event:{sc:"sp/ae/1-0-1",dt:{programmingLanguage:"JAVASCRIPT",message:r?r2(r,2048):"JS Exception.",stackTrace:l?r2(l,8192):"",lineNumber:o,lineColumn:a,fileName:i}}}),c,e))}}function eh(e,t){try{var n=null!=e?e:Object.keys(r6);e=r6;for(var r=[],i=0;i<n.length;i++){var o=n[i];e.hasOwnProperty(o)?r.push(e[o]):ez.warn(o+" not configured")}r.forEach(t)}catch(e){ez.error("Function failed",e)}}var ep,em=function(){return(em=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var ew={},ey="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(ey){var eb=new Uint8Array(16);ew=function(){return ey(eb),eb}}else{var e_=Array(16);ew=function(){for(var e,t=0;16>t;t++)3&t||(e=0x100000000*Math.random()),e_[t]=e>>>((3&t)<<3)&255;return e_}}for(var ek=[],eC=0;256>eC;++eC)ek[eC]=(eC+256).toString(16).substr(1);var eE,eT,eS=function(e,t){return t=t||0,""+ek[e[t++]]+ek[e[t++]]+ek[e[t++]]+ek[e[t++]]+"-"+ek[e[t++]]+ek[e[t++]]+"-"+ek[e[t++]]+ek[e[t++]]+"-"+ek[e[t++]]+ek[e[t++]]+"-"+ek[e[t++]]+ek[e[t++]]+ek[e[t++]]+ek[e[t++]]+ek[e[t++]]+ek[e[t++]]},eA=ew,ex=0,eI=0,eR=ew,eN=function(e,t,n){n=t&&n||0,"string"==typeof e&&(t="binary"===e?Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||eR)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t)for(e=0;16>e;++e)t[n+e]=r[e];return t||eS(r)};eN.v1=function(e,t,n){n=t&&n||0;var r=t||[],i=(e=e||{}).node||eE,o=void 0!==e.clockseq?e.clockseq:eT;if(null==i||null==o){var a=eA();null==i&&(i=eE=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==o&&(o=eT=16383&(a[6]<<8|a[7]))}a=void 0!==e.msecs?e.msecs:(new Date).getTime();var l=void 0!==e.nsecs?e.nsecs:eI+1,c=a-ex+(l-eI)/1e4;if(0>c&&void 0===e.clockseq&&(o=o+1&16383),(0>c||a>ex)&&void 0===e.nsecs&&(l=0),1e4<=l)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");for(ex=a,eI=l,eT=o,e=(1e4*(0xfffffff&(a+=122192928e5))+l)%0x100000000,r[n++]=e>>>24&255,r[n++]=e>>>16&255,r[n++]=e>>>8&255,r[n++]=255&e,e=a/0x100000000*1e4&0xfffffff,r[n++]=e>>>8&255,r[n++]=255&e,r[n++]=e>>>24&15|16,r[n++]=e>>>16&255,r[n++]=o>>>8|128,r[n++]=255&o,o=0;6>o;++o)r[n+o]=i[o];return t||eS(r)};var eO,eL=eN.v4=eN,eM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";(eD=eO||(eO={}))[eD.none=0]="none",eD[eD.error=1]="error",eD[eD.warn=2]="warn",eD[eD.debug=3]="debug",eD[eD.info=4]="info";var eD,eP,eU,ez=(void 0===eP&&(eP=eO.warn),{setLogLevel:function(e){eP=eO[e]?e:eO.warn},warn:function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];eP>=eO.warn&&"undefined"!=typeof console&&(i="Conviva: "+e,t?console.warn.apply(console,n([i+"\n",t],r,!1)):console.warn.apply(console,n([i],r,!1)))},error:function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];eP>=eO.error&&"undefined"!=typeof console&&(i="Conviva: "+e+"\n",t?console.error.apply(console,n([i+"\n",t],r,!1)):console.error.apply(console,n([i],r,!1)))},debug:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];eP>=eO.debug&&"undefined"!=typeof console&&console.debug.apply(console,n(["Conviva: "+e],t,!1))},info:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];eP>=eO.info&&"undefined"!=typeof console&&console.info.apply(console,n(["Conviva: "+e],t,!1))}});(eG=eU||(eU={})).response_body="rsb",eG.request_body="rqb",eG.response_headers="rsh",eG.request_headers="rqh",eG.request_query="rqq";var eG,eq,eB={};eB=eq={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 0xff00ff&eq.rotl(e,8)|0xff00ff00&eq.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=eq.endian(e[t]);return e},randomBytes:function(e){for(var t=[];0<e;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var r=e[n]<<16|e[n+1]<<8|e[n+2],i=0;4>i;i++)8*n+6*i<=8*e.length?t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>>6*(3-i)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,r=0;n<e.length;r=++n%4)0!=r&&t.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(n-1))&Math.pow(2,-2*r+8)-1)<<2*r|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(n))>>>6-2*r);return t}};var eH={utf8:{stringToBytes:function(e){return eH.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(eH.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e$=eB,e0=eH.utf8,e1=eH.bin,(e2=function(e,t){var n=e$.wordsToBytes,i=e;i.constructor==String?i=e0.stringToBytes(i):void 0!==r&&"function"==typeof r.isBuffer&&r.isBuffer(i)?i=Array.prototype.slice.call(i,0):Array.isArray(i)||(i=i.toString()),e=e$.bytesToWords(i);var o=8*i.length;i=[];var a=0x67452301,l=-0x10325477,c=-0x67452302,s=0x10325476,u=-0x3c2d1e10;for(e[o>>5]|=128<<24-o%32,e[15+(o+64>>>9<<4)]=o,o=0;o<e.length;o+=16){for(var d=a,f=l,v=c,g=s,h=u,p=0;80>p;p++){if(16>p)i[p]=e[o+p];else{var m=i[p-3]^i[p-8]^i[p-14]^i[p-16];i[p]=m<<1|m>>>31}m=(a<<5|a>>>27)+u+(i[p]>>>0)+(20>p?0x5a827999+(l&c|~l&s):40>p?0x6ed9eba1+(l^c^s):60>p?(l&c|l&s|c&s)-0x70e44324:(l^c^s)-0x359d3e2a),u=s,s=c,c=l<<30|l>>>2,l=a,a=m}a+=d,l+=f,c+=v,s+=g,u+=h}return n=n.call(e$,[a,l,c,s,u]),t&&t.asBytes?n:t&&t.asString?e1.bytesToString(n):e$.bytesToHex(n)})._blocksize=16,e2._digestsize=20;var eF=e2,ej=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),eV=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),eW=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),eK=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),eJ=Array(576);E(eJ);var eX=Array(60);E(eX);var eY=Array(512);E(eY);var eQ=Array(256);E(eQ);var eZ=Array(29);E(eZ);var e$,e0,e1,e2,e6,e5,e3,e4=Array(30);E(e4);var e8=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},e9=function(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,e8(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},e7=function(e,t,n){e9(e,n[2*t],n[2*t+1])},te=function(e,t){var n=0;do n|=1&e,e>>>=1,n<<=1;while(0<--t);return n>>>1},tt=function(e,t,n){var r,i=Array(16),o=0;for(r=1;15>=r;r++)o=o+n[r-1]<<1,i[r]=o;for(n=0;n<=t;n++)0!==(r=e[2*n+1])&&(e[2*n]=te(i[r]++,r))},tn=function(e){var t;for(t=0;286>t;t++)e.dyn_ltree[2*t]=0;for(t=0;30>t;t++)e.dyn_dtree[2*t]=0;for(t=0;19>t;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},tr=function(e){8<e.bi_valid?e8(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},ti=function(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]},to=function(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&ti(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!ti(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},ta=function(e,t,n){var r,i,o=0;if(0!==e.sym_next)do{var a=255&e.pending_buf[e.sym_buf+o++];a+=(255&e.pending_buf[e.sym_buf+o++])<<8;var l=e.pending_buf[e.sym_buf+o++];0===a?e7(e,l,t):(e7(e,(r=eQ[l])+256+1,t),0!==(i=ej[r])&&e9(e,l-=eZ[r],i),e7(e,r=256>--a?eY[a]:eY[256+(a>>>7)],n),0!==(i=eV[r])&&e9(e,a-=e4[r],i))}while(o<e.sym_next);e7(e,256,t)},tl=function(e,t){var n,r,i,o,a,l,c,s=t.dyn_tree,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.elems,v=-1;for(l=0,e.heap_len=0,e.heap_max=573;l<f;l++)0!==s[2*l]?(e.heap[++e.heap_len]=v=l,e.depth[l]=0):s[2*l+1]=0;for(;2>e.heap_len;)s[2*(c=e.heap[++e.heap_len]=2>v?++v:0)]=1,e.depth[c]=0,e.opt_len--,d&&(e.static_len-=u[2*c+1]);for(t.max_code=v,l=e.heap_len>>1;1<=l;l--)to(e,s,l);c=f;do l=e.heap[1],e.heap[1]=e.heap[e.heap_len--],to(e,s,1),u=e.heap[1],e.heap[--e.heap_max]=l,e.heap[--e.heap_max]=u,s[2*c]=s[2*l]+s[2*u],e.depth[c]=(e.depth[l]>=e.depth[u]?e.depth[l]:e.depth[u])+1,s[2*l+1]=s[2*u+1]=c,e.heap[1]=c++,to(e,s,1);while(2<=e.heap_len);e.heap[--e.heap_max]=e.heap[1],l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits;var g=t.stat_desc.extra_base,h=t.stat_desc.max_length,p=0;for(i=0;15>=i;i++)e.bl_count[i]=0;for(l[2*e.heap[e.heap_max]+1]=0,t=e.heap_max+1;573>t;t++)(i=l[2*l[2*(n=e.heap[t])+1]+1]+1)>h&&(i=h,p++),l[2*n+1]=i,n>c||(e.bl_count[i]++,o=0,n>=g&&(o=f[n-g]),a=l[2*n],e.opt_len+=a*(i+o),d&&(e.static_len+=a*(u[2*n+1]+o)));if(0!==p){do{for(i=h-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[h]--,p-=2}while(0<p);for(i=h;0!==i;i--)for(n=e.bl_count[i];0!==n;)(r=e.heap[--t])>c||(l[2*r+1]!==i&&(e.opt_len+=(i-l[2*r+1])*l[2*r],l[2*r+1]=i),n--)}tt(s,v,e.bl_count)},tc=function(e,t,n){var r,i=-1,o=t[1],a=0,l=7,c=4;for(0===o&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++){var s=o;o=t[2*(r+1)+1],++a<l&&s===o||(a<c?e.bl_tree[2*s]+=a:0!==s?(s!==i&&e.bl_tree[2*s]++,e.bl_tree[32]++):10>=a?e.bl_tree[34]++:e.bl_tree[36]++,a=0,i=s,0===o?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4))}},ts=function(e,t,n){var r,i,o=-1,a=t[1],l=0,c=7,s=4;for(0===a&&(c=138,s=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++l<c&&i===a)){if(l<s)do e7(e,i,e.bl_tree);while(0!=--l);else 0!==i?(i!==o&&(e7(e,i,e.bl_tree),l--),e7(e,16,e.bl_tree),e9(e,l-3,2)):10>=l?(e7(e,17,e.bl_tree),e9(e,l-3,3)):(e7(e,18,e.bl_tree),e9(e,l-11,7));l=0,o=i,0===a?(c=138,s=3):i===a?(c=6,s=3):(c=7,s=4)}},tu=!1,td=function(e,t,n,r){e9(e,+!!r,3),tr(e),e8(e,n),e8(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},tf=function(e,t,n,r){var i,o=65535&e;for(e=e>>>16&65535;0!==n;){n-=i=2e3<n?2e3:n;do e=e+(o=o+t[r++]|0)|0;while(--i);o%=65521,e%=65521}return o|e<<16},tv=new Uint32Array(function(){for(var e,t=[],n=0;256>n;n++){e=n;for(var r=0;8>r;r++)e=1&e?0xedb88320^e>>>1:e>>>1;t[n]=e}return t}()),tg=function(e,t,n,r){for(n=r+n,e^=-1;r<n;r++)e=e>>>8^tv[255&(e^t[r])];return~e},th={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},tp=0,tm=1,tw=2,ty=3,tb=4,t_=5,tk=6,tC=0,tE=1,tT=2,tS=-2,tA=-3,tx=-4,tI=-5,tR=-1,tN=1,tO=2,tL=3,tM=4,tD=0,tP=2,tU=8,tz=function(e,t,n,r){var i,o,a=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=0xf3ffc07f;for(t=0;31>=t;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;256>t;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),tl(e,e.l_desc),tl(e,e.d_desc),a=function(e){var t;for(tc(e,e.dyn_ltree,e.l_desc.max_code),tc(e,e.dyn_dtree,e.d_desc.max_code),tl(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*eK[t]+1];t--);return e.opt_len+=3*(t+1)+14,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?td(e,t,n,r):4===e.strategy||o===i?(e9(e,2+ +!!r,3),ta(e,eJ,eX)):(e9(e,4+ +!!r,3),function(e,t,n,r){var i;for(e9(e,t-257,5),e9(e,n-1,5),e9(e,r-4,4),i=0;i<r;i++)e9(e,e.bl_tree[2*eK[i]+1],3);ts(e,e.dyn_ltree,t-1),ts(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),ta(e,e.dyn_ltree,e.dyn_dtree)),tn(e),r&&tr(e)},tG=function(e,t,n){return e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(eQ[n]+256+1)]++,e.dyn_dtree[2*(256>t?eY[t]:eY[256+(t>>>7)])]++),e.sym_next===e.sym_end},tq=function(e){e9(e,2,3),e7(e,256,eJ),16===e.bi_valid?(e8(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)},tB=tp,tH=tb,tF=t_,tj=tC,tV=tE,tW=tS,tK=tI,tJ=tN,tX=tO,tY=tU,tQ=function(e,t){return e.msg=th[t],t},tZ=function(e){for(var t=e.length;0<=--t;)e[t]=0},t$=function(e,t,n){return(t<<e.hash_shift^n)&e.hash_mask},t0=function(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},t1=function(e,t){tz(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,t0(e.strm)},t2=function(e,t){e.pending_buf[e.pending++]=t},t6=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},t5=function(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=tf(e.adler,t,i,n):2===e.state.wrap&&(e.adler=tg(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},t3=function(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,l=e.nice_match,c=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,s=e.window,u=e.w_mask,d=e.prev,f=e.strstart+258,v=s[o+a-1],g=s[o+a];e.prev_length>=e.good_match&&(i>>=2),l>e.lookahead&&(l=e.lookahead);do if(s[(n=t)+a]===g&&s[n+a-1]===v&&s[n]===s[o]&&s[++n]===s[o+1]){for(o+=2,n++;s[++o]===s[++n]&&s[++o]===s[++n]&&s[++o]===s[++n]&&s[++o]===s[++n]&&s[++o]===s[++n]&&s[++o]===s[++n]&&s[++o]===s[++n]&&s[++o]===s[++n]&&o<f;);if(r=258-(f-o),o=f-258,r>a){if(e.match_start=t,a=r,r>=l)break;v=s[o+a-1],g=s[o+a]}}while((t=d[t&u])>c&&0!=--i);return a<=e.lookahead?a:e.lookahead},t4=function(e){var t,n=e.w_size;do{var r=e.window_size-e.lookahead-e.strstart;if(e.strstart>=n+(n-262)){e.window.set(e.window.subarray(n,n+n-r),0),e.match_start-=n,e.strstart-=n,e.block_start-=n,e.insert>e.strstart&&(e.insert=e.strstart);var i,o=e.w_size,a=i=e.hash_size;do{var l=e.head[--a];e.head[a]=l>=o?l-o:0}while(--i);a=i=o;do l=e.prev[--a],e.prev[a]=l>=o?l-o:0;while(--i);r+=n}if(0===e.strm.avail_in)break;if(t=t5(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=t,3<=e.lookahead+e.insert)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=t$(e,e.ins_h,e.window[r+1]);e.insert&&(e.ins_h=t$(e,e.ins_h,e.window[r+3-1]),e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(3>e.lookahead+e.insert)););}while(262>e.lookahead&&0!==e.strm.avail_in)},t8=function(e,t){var n,r,i,o=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,a=0,l=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,n>(r=e.strstart-e.block_start)+e.strm.avail_in&&(n=r+e.strm.avail_in),n>i&&(n=i),n<o&&(0===n&&t!==tH||t===tB||n!==r+e.strm.avail_in)))break;a=+(t===tH&&n===r+e.strm.avail_in),td(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,t0(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(t5(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===a);return(l-=e.strm.avail_in)&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),2>e.matches&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?4:t!==tB&&t!==tH&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),2>e.matches&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(t5(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,o=(i=65535<e.pending_buf_size-i?65535:e.pending_buf_size-i)>e.w_size?e.w_size:i,((r=e.strstart-e.block_start)>=o||(r||t===tH)&&t!==tB&&0===e.strm.avail_in&&r<=i)&&(n=r>i?i:r,a=+(t===tH&&0===e.strm.avail_in&&n===r),td(e,e.block_start,n,a),e.block_start+=n,t0(e.strm)),a?3:1)},t9=function(e,t){for(var n,r;;){if(262>e.lookahead){if(t4(e),262>e.lookahead&&t===tB)return 1;if(0===e.lookahead)break}if(n=0,3<=e.lookahead&&(e.ins_h=t$(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=t3(e,n)),3<=e.match_length)if(r=tG(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&3<=e.lookahead){e.match_length--;do e.strstart++,e.ins_h=t$(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=t$(e,e.ins_h,e.window[e.strstart+1]);else r=tG(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(t1(e,!1),0===e.strm.avail_out))return 1}return e.insert=2>e.strstart?e.strstart:2,t===tH?(t1(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(t1(e,!1),0===e.strm.avail_out)?1:2},t7=function(e,t){for(var n,r,i;;){if(262>e.lookahead){if(t4(e),262>e.lookahead&&t===tB)return 1;if(0===e.lookahead)break}if(n=0,3<=e.lookahead&&(e.ins_h=t$(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=t3(e,n),5>=e.match_length&&(e.strategy===tJ||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),3<=e.prev_length&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=tG(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=t$(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(t1(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(tG(e,0,e.window[e.strstart-1])&&t1(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(tG(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=2>e.strstart?e.strstart:2,t===tH?(t1(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(t1(e,!1),0===e.strm.avail_out)?1:2},ne=[new A(0,0,0,0,t8),new A(4,4,8,4,t9),new A(4,5,16,8,t9),new A(4,6,32,32,t9),new A(4,4,16,16,t7),new A(8,16,32,32,t7),new A(8,16,128,128,t7),new A(8,32,128,256,t7),new A(32,128,258,1024,t7),new A(32,258,258,4096,t7)],nt=function(e){if(!e)return 1;var t=e.state;return t&&t.strm===e&&(42===t.status||57===t.status||69===t.status||73===t.status||91===t.status||103===t.status||113===t.status||666===t.status)?0:1},nn=function(e){if(nt(e))return tQ(e,tW);e.total_in=e.total_out=0,e.data_type=tP;var t,n,r,i=e.state;if(i.pending=0,i.pending_out=0,0>i.wrap&&(i.wrap=-i.wrap),i.status=2===i.wrap?57:i.wrap?42:113,e.adler=+(2!==i.wrap),i.last_flush=-2,!tu){for(e=Array(16),r=n=0;28>r;r++)for(eZ[r]=n,t=0;t<1<<ej[r];t++)eQ[n++]=r;for(eQ[n-1]=r,r=n=0;16>r;r++)for(e4[r]=n,t=0;t<1<<eV[r];t++)eY[n++]=r;for(n>>=7;30>r;r++)for(e4[r]=n<<7,t=0;t<1<<eV[r]-7;t++)eY[256+n++]=r;for(t=0;15>=t;t++)e[t]=0;for(t=0;143>=t;)eJ[2*t+1]=8,t++,e[8]++;for(;255>=t;)eJ[2*t+1]=9,t++,e[9]++;for(;279>=t;)eJ[2*t+1]=7,t++,e[7]++;for(;287>=t;)eJ[2*t+1]=8,t++,e[8]++;for(tt(eJ,287,e),t=0;30>t;t++)eX[2*t+1]=5,eX[2*t]=te(t,5);e6=new T(eJ,ej,257,286,15),e5=new T(eX,eV,0,30,15),e3=new T([],eW,0,19,7),tu=!0}return i.l_desc=new S(i.dyn_ltree,e6),i.d_desc=new S(i.dyn_dtree,e5),i.bl_desc=new S(i.bl_tree,e3),i.bi_buf=0,i.bi_valid=0,tn(i),tj},nr=function(e){var t,n=nn(e);return n===tj&&((t=e.state).window_size=2*t.w_size,tZ(t.head),t.max_lazy_match=ne[t.level].max_lazy,t.good_match=ne[t.level].good_length,t.nice_match=ne[t.level].nice_length,t.max_chain_length=ne[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n},ni={deflateInit2:function(e,t,n,r,i,o){if(!e)return tW;var a=1;if(t===tR&&(t=6),0>r?(a=0,r=-r):15<r&&(a=2,r-=16),1>i||9<i||n!==tY||8>r||15<r||0>t||9<t||0>o||o>tM||8===r&&1!==a)return tQ(e,tW);8===r&&(r=9);var l=new x;return e.state=l,l.strm=e,l.status=42,l.wrap=a,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new Uint8Array(2*l.w_size),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=3*(l.lit_bufsize-1),l.level=t,l.strategy=o,l.method=n,nr(e)},deflateSetHeader:function(e,t){return nt(e)||2!==e.state.wrap?tW:(e.state.gzhead=t,tj)},deflate:function(e,t){if(nt(e)||t>tF||0>t)return e?tQ(e,tW):tW;var n=e.state;if(!e.output||0!==e.avail_in&&!e.input||666===n.status&&t!==tH)return tQ(e,0===e.avail_out?tK:tW);var r=n.last_flush;if(n.last_flush=t,0!==n.pending){if(t0(e),0===e.avail_out)return n.last_flush=-1,tj}else if(0===e.avail_in&&2*t-9*(4<t)<=2*r-9*(4<r)&&t!==tH)return tQ(e,tK);if(666===n.status&&0!==e.avail_in)return tQ(e,tK);if(42===n.status&&0===n.wrap&&(n.status=113),42===n.status&&(r=tY+(n.w_bits-8<<4)<<8|(n.strategy>=tX||2>n.level?0:6>n.level?1:6===n.level?2:3)<<6,0!==n.strstart&&(r|=32),t6(n,r+=31-r%31),0!==n.strstart&&(t6(n,e.adler>>>16),t6(n,65535&e.adler)),e.adler=1,n.status=113,t0(e),0!==n.pending))return n.last_flush=-1,tj;if(57===n.status){if(e.adler=0,t2(n,31),t2(n,139),t2(n,8),n.gzhead)t2(n,+!!n.gzhead.text+2*!!n.gzhead.hcrc+4*!!n.gzhead.extra+8*!!n.gzhead.name+16*!!n.gzhead.comment),t2(n,255&n.gzhead.time),t2(n,n.gzhead.time>>8&255),t2(n,n.gzhead.time>>16&255),t2(n,n.gzhead.time>>24&255),t2(n,9===n.level?2:4*(n.strategy>=tX||2>n.level)),t2(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(t2(n,255&n.gzhead.extra.length),t2(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=tg(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(t2(n,0),t2(n,0),t2(n,0),t2(n,0),t2(n,0),t2(n,9===n.level?2:4*(n.strategy>=tX||2>n.level)),t2(n,3),n.status=113,t0(e),0!==n.pending)return n.last_flush=-1,tj}if(69===n.status){if(n.gzhead.extra){r=n.pending;for(var i=(65535&n.gzhead.extra.length)-n.gzindex;n.pending+i>n.pending_buf_size;){var o=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>r&&(e.adler=tg(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex+=o,t0(e),0!==n.pending)return n.last_flush=-1,tj;r=0,i-=o}o=new Uint8Array(n.gzhead.extra),n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>r&&(e.adler=tg(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=tg(e.adler,n.pending_buf,n.pending-i,i)),t0(e),0!==n.pending)return n.last_flush=-1,tj;i=0}r=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,t2(n,r)}while(0!==r);n.gzhead.hcrc&&n.pending>i&&(e.adler=tg(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=tg(e.adler,n.pending_buf,n.pending-i,i)),t0(e),0!==n.pending)return n.last_flush=-1,tj;i=0}r=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,t2(n,r)}while(0!==r);n.gzhead.hcrc&&n.pending>i&&(e.adler=tg(e.adler,n.pending_buf,n.pending-i,i))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(t0(e),0!==n.pending))return n.last_flush=-1,tj;t2(n,255&e.adler),t2(n,e.adler>>8&255),e.adler=0}if(n.status=113,t0(e),0!==n.pending)return n.last_flush=-1,tj}if(0!==e.avail_in||0!==n.lookahead||t!==tB&&666!==n.status){if(3!==(r=0===n.level?t8(n,t):n.strategy===tX?function(e,t){for(var n;;){if(0===e.lookahead&&(t4(e),0===e.lookahead)){if(t===tB)return 1;break}if(e.match_length=0,n=tG(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(t1(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===tH?(t1(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(t1(e,!1),0===e.strm.avail_out)?1:2}(n,t):n.strategy===tL?function(e,t){for(var n,r,i,o,a=e.window;;){if(258>=e.lookahead){if(t4(e),258>=e.lookahead&&t===tB)return 1;if(0===e.lookahead)break}if(e.match_length=0,3<=e.lookahead&&0<e.strstart&&(r=a[i=e.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){for(o=e.strstart+258;r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o;);e.match_length=258-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(3<=e.match_length?(n=tG(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=tG(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(t1(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===tH?(t1(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(t1(e,!1),0===e.strm.avail_out)?1:2}(n,t):ne[n.level].func(n,t))&&4!==r||(n.status=666),1===r||3===r)return 0===e.avail_out&&(n.last_flush=-1),tj;if(2===r&&(t===tm?tq(n):t!==tF&&(td(n,0,0,!1),t===ty&&(tZ(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),t0(e),0===e.avail_out))return n.last_flush=-1,tj}return t!==tH?tj:0>=n.wrap?tV:(2===n.wrap?(t2(n,255&e.adler),t2(n,e.adler>>8&255),t2(n,e.adler>>16&255),t2(n,e.adler>>24&255),t2(n,255&e.total_in),t2(n,e.total_in>>8&255),t2(n,e.total_in>>16&255),t2(n,e.total_in>>24&255)):(t6(n,e.adler>>>16),t6(n,65535&e.adler)),t0(e),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?tj:tV)},deflateEnd:function(e){if(nt(e))return tW;var t=e.state.status;return e.state=null,113===t?tQ(e,tA):tj},deflateSetDictionary:function(e,t){var n=t.length;if(nt(e))return tW;var r=e.state,i=r.wrap;if(2===i||1===i&&42!==r.status||r.lookahead)return tW;if(1===i&&(e.adler=tf(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===i&&(tZ(r.head),r.strstart=0,r.block_start=0,r.insert=0);var o=new Uint8Array(r.w_size);o.set(t.subarray(n-r.w_size,n),0),t=o,n=r.w_size}o=e.avail_in;var a=e.next_in,l=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,t4(r);3<=r.lookahead;){t=r.strstart,n=r.lookahead-2;do r.ins_h=t$(r,r.ins_h,r.window[t+3-1]),r.prev[t&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=t,t++;while(--n);r.strstart=t,r.lookahead=2,t4(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=a,e.input=l,e.avail_in=o,r.wrap=i,tj}},no=function(e){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var r=n.shift();if(r){if("object"!==t(r))throw TypeError(r+"must be non-object");for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}}return e},na=function(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n].length;t=new Uint8Array(t),r=n=0;for(var i=e.length;n<i;n++){var o=e[n];t.set(o,r),r+=o.length}return t},nl=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){nl=!1}for(var nc=new Uint8Array(256),ns=0;256>ns;ns++)nc[ns]=252<=ns?6:248<=ns?5:240<=ns?4:224<=ns?3:192<=ns?2:1;nc[254]=nc[254]=1;var nu=function(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,n,r,i,o=e.length,a=0;for(r=0;r<o;r++)55296==(64512&(t=e.charCodeAt(r)))&&r+1<o&&56320==(64512&(n=e.charCodeAt(r+1)))&&(t=65536+(t-55296<<10)+(n-56320),r++),a+=128>t?1:2048>t?2:65536>t?3:4;var l=new Uint8Array(a);for(r=i=0;i<a;r++)55296==(64512&(t=e.charCodeAt(r)))&&r+1<o&&56320==(64512&(n=e.charCodeAt(r+1)))&&(t=65536+(t-55296<<10)+(n-56320),r++),128>t?l[i++]=t:(2048>t?l[i++]=192|t>>>6:(65536>t?l[i++]=224|t>>>12:(l[i++]=240|t>>>18,l[i++]=128|t>>>12&63),l[i++]=128|t>>>6&63),l[i++]=128|63&t);return l},nd=function(){this.input=null,this.total_in=this.avail_in=this.next_in=0,this.output=null,this.total_out=this.avail_out=this.next_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},nf=Object.prototype.toString,nv=tw,ng=ty,nh=tC,np=tE,nm=tR,nw=tD,ny=tU;I.prototype.push=function(e,t){var n=this.strm,r=this.options.chunkSize;if(this.ended)return!1;for(t=t===~~t?t:!0===t?tb:tp,"string"==typeof e?n.input=nu(e):"[object ArrayBuffer]"===nf.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(t===nv||t===ng)&&6>=n.avail_out)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if((e=ni.deflate(n,t))===np)return 0<n.next_out&&this.onData(n.output.subarray(0,n.next_out)),e=ni.deflateEnd(this.strm),this.onEnd(e),this.ended=!0,e===nh;if(0!==n.avail_out){if(0<t&&0<n.next_out)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},I.prototype.onData=function(e){this.chunks.push(e)},I.prototype.onEnd=function(e){e===nh&&(this.result=na(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var nb,n_,nk=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),nC=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),nE=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),nT=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),nS=function(e,t,n,r,i,o,a,l){var c,s,u,d,f,v,g,h,p,m,w,y,b=l.bits,_=0,k=null,C=new Uint16Array(16),E=new Uint16Array(16),T=null;for(g=0;15>=g;g++)C[g]=0;for(h=0;h<r;h++)C[t[n+h]]++;var S=b;for(p=15;1<=p&&0===C[p];p--);if(S>p&&(S=p),0===p)return i[o++]=0x1400000,i[o++]=0x1400000,l.bits=1,0;for(b=1;b<p&&0===C[b];b++);for(S<b&&(S=b),g=c=1;15>=g;g++)if(c<<=1,0>(c-=C[g]))return -1;if(0<c&&(0===e||1!==p))return -1;for(g=1,E[1]=0;15>g;g++)E[g+1]=E[g]+C[g];for(h=0;h<r;h++)0!==t[n+h]&&(a[E[t[n+h]]++]=h);if(0===e?(k=T=a,d=20):1===e?(k=nk,T=nC,d=257):(k=nE,T=nT,d=0),y=0,h=0,g=b,E=o,m=S,w=0,u=-1,r=(_=1<<S)-1,1===e&&852<_||2===e&&592<_)return 1;for(;;){var A=g-w;a[h]+1<d?(f=0,v=a[h]):a[h]>=d?(f=T[a[h]-d],v=k[a[h]-d]):(f=96,v=0),c=1<<g-w,b=s=1<<m;do i[E+(y>>w)+(s-=c)]=A<<24|f<<16|v;while(0!==s);for(c=1<<g-1;y&c;)c>>=1;if(0!==c?(y&=c-1,y+=c):y=0,h++,0==--C[g]){if(g===p)break;g=t[n+a[h]]}if(g>S&&(y&r)!==u){for(0===w&&(w=S),E+=b,c=1<<(m=g-w);m+w<p&&!(0>=(c-=C[m+w]));)m++,c<<=1;if(_+=1<<m,1===e&&852<_||2===e&&592<_)return 1;i[u=y&r]=S<<24|m<<16|E-o}}return 0!==y&&(i[E+y]=g-w<<24|4194304),l.bits=S,0},nA=tb,nx=t_,nI=tk,nR=tC,nN=tE,nO=tT,nL=tS,nM=tA,nD=tx,nP=tU,nU=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)},nz=function(e){if(!e)return 1;var t=e.state;return+(!t||t.strm!==e||16180>t.mode||16211<t.mode)},nG=function(e){if(nz(e))return nL;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=16180,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,nR},nq=function(e){if(nz(e))return nL;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,nG(e)},nB=function(e,t){if(nz(e))return nL;var n,r=e.state;return 0>t?(n=0,t=-t):(n=5+(t>>4),48>t&&(t&=15)),t&&(8>t||15<t)?nL:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,nq(e))},nH=!0,nF=function(e,t,n,r){var i;return null===(e=e.state).window&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new Uint8Array(e.wsize)),r>=e.wsize?(e.window.set(t.subarray(n-e.wsize,n),0),e.wnext=0,e.whave=e.wsize):((i=e.wsize-e.wnext)>r&&(i=r),e.window.set(t.subarray(n-r,n-r+i),e.wnext),(r-=i)?(e.window.set(t.subarray(n-r,n),0),e.wnext=r,e.whave=e.wsize):(e.wnext+=i,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=i))),0},nj={inflateReset:nq,inflateInit2:function(e,t){if(!e)return nL;var n=new R;return e.state=n,n.strm=e,n.window=null,n.mode=16180,(t=nB(e,t))!==nR&&(e.state=null),t},inflate:function(e,t){var n,r,i,o,a,l,c,s=0,u=new Uint8Array(4),d=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(nz(e)||!e.output||!e.input&&0!==e.avail_in)return nL;16191===(n=e.state).mode&&(n.mode=16192);var f=e.next_out,v=e.output,g=e.avail_out,h=e.next_in,p=e.input,m=e.avail_in,w=n.hold,y=n.bits,b=m,_=g,k=nR;e:for(;;)switch(n.mode){case 16180:if(0===n.wrap){n.mode=16192;break}for(;16>y;){if(0===m)break e;m--,w+=p[h++]<<y,y+=8}if(2&n.wrap&&35615===w){0===n.wbits&&(n.wbits=15),n.check=0,u[0]=255&w,u[1]=w>>>8&255,n.check=tg(n.check,u,2,0),y=w=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&w)<<8)+(w>>8))%31){e.msg="incorrect header check",n.mode=16209;break}if((15&w)!==nP){e.msg="unknown compression method",n.mode=16209;break}if(y-=4,l=8+(15&(w>>>=4)),0===n.wbits&&(n.wbits=l),15<l||l>n.wbits){e.msg="invalid window size",n.mode=16209;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&w?16189:16191,y=w=0;break;case 16181:for(;16>y;){if(0===m)break e;m--,w+=p[h++]<<y,y+=8}if(n.flags=w,(255&n.flags)!==nP){e.msg="unknown compression method",n.mode=16209;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=16209;break}n.head&&(n.head.text=w>>8&1),512&n.flags&&4&n.wrap&&(u[0]=255&w,u[1]=w>>>8&255,n.check=tg(n.check,u,2,0)),y=w=0,n.mode=16182;case 16182:for(;32>y;){if(0===m)break e;m--,w+=p[h++]<<y,y+=8}n.head&&(n.head.time=w),512&n.flags&&4&n.wrap&&(u[0]=255&w,u[1]=w>>>8&255,u[2]=w>>>16&255,u[3]=w>>>24&255,n.check=tg(n.check,u,4,0)),y=w=0,n.mode=16183;case 16183:for(;16>y;){if(0===m)break e;m--,w+=p[h++]<<y,y+=8}n.head&&(n.head.xflags=255&w,n.head.os=w>>8),512&n.flags&&4&n.wrap&&(u[0]=255&w,u[1]=w>>>8&255,n.check=tg(n.check,u,2,0)),y=w=0,n.mode=16184;case 16184:if(1024&n.flags){for(;16>y;){if(0===m)break e;m--,w+=p[h++]<<y,y+=8}n.length=w,n.head&&(n.head.extra_len=w),512&n.flags&&4&n.wrap&&(u[0]=255&w,u[1]=w>>>8&255,n.check=tg(n.check,u,2,0)),y=w=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&((r=n.length)>m&&(r=m),r&&(n.head&&(l=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(p.subarray(h,h+r),l)),512&n.flags&&4&n.wrap&&(n.check=tg(n.check,p,r,h)),m-=r,h+=r,n.length-=r),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===m)break e;r=0;do l=p[h+r++],n.head&&l&&65536>n.length&&(n.head.name+=String.fromCharCode(l));while(l&&r<m);if(512&n.flags&&4&n.wrap&&(n.check=tg(n.check,p,r,h)),m-=r,h+=r,l)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===m)break e;r=0;do l=p[h+r++],n.head&&l&&65536>n.length&&(n.head.comment+=String.fromCharCode(l));while(l&&r<m);if(512&n.flags&&4&n.wrap&&(n.check=tg(n.check,p,r,h)),m-=r,h+=r,l)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;16>y;){if(0===m)break e;m--,w+=p[h++]<<y,y+=8}if(4&n.wrap&&w!==(65535&n.check)){e.msg="header crc mismatch",n.mode=16209;break}y=w=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=16191;break;case 16189:for(;32>y;){if(0===m)break e;m--,w+=p[h++]<<y,y+=8}e.adler=n.check=nU(w),y=w=0,n.mode=16190;case 16190:if(0===n.havedict)return e.next_out=f,e.avail_out=g,e.next_in=h,e.avail_in=m,n.hold=w,n.bits=y,nO;e.adler=n.check=1,n.mode=16191;case 16191:if(t===nx||t===nI)break e;case 16192:if(n.last){w>>>=7&y,y-=7&y,n.mode=16206;break}for(;3>y;){if(0===m)break e;m--,w+=p[h++]<<y,y+=8}switch(n.last=1&w,--y,3&(w>>>=1)){case 0:n.mode=16193;break;case 1:var C=n;if(nH){for(o=0,nb=new Int32Array(512),n_=new Int32Array(32);144>o;)C.lens[o++]=8;for(;256>o;)C.lens[o++]=9;for(;280>o;)C.lens[o++]=7;for(;288>o;)C.lens[o++]=8;for(nS(1,C.lens,0,288,nb,0,C.work,{bits:9}),o=0;32>o;)C.lens[o++]=5;nS(2,C.lens,0,32,n_,0,C.work,{bits:5}),nH=!1}if(C.lencode=nb,C.lenbits=9,C.distcode=n_,C.distbits=5,n.mode=16199,t===nI){w>>>=2,y-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=16209}w>>>=2,y-=2;break;case 16193:for(w>>>=7&y,y-=7&y;32>y;){if(0===m)break e;m--,w+=p[h++]<<y,y+=8}if((65535&w)!=(w>>>16^65535)){e.msg="invalid stored block lengths",n.mode=16209;break}if(n.length=65535&w,w=0,y=0,n.mode=16194,t===nI)break e;case 16194:n.mode=16195;case 16195:if(r=n.length){if(r>m&&(r=m),r>g&&(r=g),0===r)break e;v.set(p.subarray(h,h+r),f),m-=r,h+=r,g-=r,f+=r,n.length-=r;break}n.mode=16191;break;case 16196:for(;14>y;){if(0===m)break e;m--,w+=p[h++]<<y,y+=8}if(n.nlen=257+(31&w),y-=5,n.ndist=1+(31&(w>>>=5)),y-=5,n.ncode=4+(15&(w>>>=5)),w>>>=4,y-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=16209;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;3>y;){if(0===m)break e;m--,w+=p[h++]<<y,y+=8}n.lens[d[n.have++]]=7&w,w>>>=3,y-=3}for(;19>n.have;)n.lens[d[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,c={bits:n.lenbits},k=nS(0,n.lens,0,19,n.lencode,0,n.work,c),n.lenbits=c.bits,k){e.msg="invalid code lengths set",n.mode=16209;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;a=65535&(s=n.lencode[w&(1<<n.lenbits)-1]),!((C=s>>>24)<=y);){if(0===m)break e;m--,w+=p[h++]<<y,y+=8}if(16>a)w>>>=C,y-=C,n.lens[n.have++]=a;else{if(16===a){for(o=C+2;y<o;){if(0===m)break e;m--,w+=p[h++]<<y,y+=8}if(w>>>=C,y-=C,0===n.have){e.msg="invalid bit length repeat",n.mode=16209;break}l=n.lens[n.have-1],r=3+(3&w),w>>>=2,y-=2}else if(17===a){for(o=C+3;y<o;){if(0===m)break e;m--,w+=p[h++]<<y,y+=8}y-=C,l=0,r=3+(7&(w>>>=C)),w>>>=3,y-=3}else{for(o=C+7;y<o;){if(0===m)break e;m--,w+=p[h++]<<y,y+=8}y-=C,l=0,r=11+(127&(w>>>=C)),w>>>=7,y-=7}if(n.have+r>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=16209;break}for(;r--;)n.lens[n.have++]=l}}if(16209===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=16209;break}if(n.lenbits=9,c={bits:n.lenbits},k=nS(1,n.lens,0,n.nlen,n.lencode,0,n.work,c),n.lenbits=c.bits,k){e.msg="invalid literal/lengths set",n.mode=16209;break}if(n.distbits=6,n.distcode=n.distdyn,c={bits:n.distbits},k=nS(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,c),n.distbits=c.bits,k){e.msg="invalid distances set",n.mode=16209;break}if(n.mode=16199,t===nI)break e;case 16199:n.mode=16200;case 16200:if(6<=m&&258<=g){e.next_out=f,e.avail_out=g,e.next_in=h,e.avail_in=m,n.hold=w,n.bits=y,m=h=void 0;var E,T=e.state,S=e.next_in;v=e.input;var A=S+(e.avail_in-5),x=e.next_out;p=e.output;var I=x-(_-e.avail_out),R=x+(e.avail_out-257),N=T.dmax,O=T.wsize,L=T.whave,M=T.wnext,D=T.window;a=T.hold,o=T.bits,C=T.lencode,y=T.distcode,w=(1<<T.lenbits)-1,g=(1<<T.distbits)-1;t:do{15>o&&(a+=v[S++]<<o,o+=8,a+=v[S++]<<o,o+=8);for(var P=C[a&w];;){if(a>>>=m=P>>>24,o-=m,0==(m=P>>>16&255))p[x++]=65535&P;else{if(!(16&m)){if(64&m){if(32&m){T.mode=16191;break t}e.msg="invalid literal/length code",T.mode=16209;break t}P=C[(65535&P)+(a&(1<<m)-1)];continue}for(f=65535&P,(m&=15)&&(o<m&&(a+=v[S++]<<o,o+=8),f+=a&(1<<m)-1,a>>>=m,o-=m),15>o&&(a+=v[S++]<<o,o+=8,a+=v[S++]<<o,o+=8),P=y[a&g];;){if(a>>>=m=P>>>24,o-=m,16&(m=P>>>16&255)){if(h=65535&P,o<(m&=15)&&(a+=v[S++]<<o,(o+=8)<m&&(a+=v[S++]<<o,o+=8)),(h+=a&(1<<m)-1)>N){e.msg="invalid distance too far back",T.mode=16209;break t}if(a>>>=m,o-=m,h>(m=x-I)){if((m=h-m)>L&&T.sane){e.msg="invalid distance too far back",T.mode=16209;break t}if(E=0,P=D,0===M){if(E+=O-m,m<f){f-=m;do p[x++]=D[E++];while(--m);E=x-h,P=p}}else if(M<m){if(E+=O+M-m,(m-=M)<f){f-=m;do p[x++]=D[E++];while(--m);if(E=0,M<f){f-=m=M;do p[x++]=D[E++];while(--m);E=x-h,P=p}}}else if(E+=M-m,m<f){f-=m;do p[x++]=D[E++];while(--m);E=x-h,P=p}for(;2<f;)p[x++]=P[E++],p[x++]=P[E++],p[x++]=P[E++],f-=3;f&&(p[x++]=P[E++],1<f&&(p[x++]=P[E++]))}else{E=x-h;do p[x++]=p[E++],p[x++]=p[E++],p[x++]=p[E++],f-=3;while(2<f);f&&(p[x++]=p[E++],1<f&&(p[x++]=p[E++]))}break}if(64&m){e.msg="invalid distance code",T.mode=16209;break t}P=y[(65535&P)+(a&(1<<m)-1)]}}break}}while(S<A&&x<R);S-=f=o>>3,a&=(1<<(o-=f<<3))-1,e.next_in=S,e.next_out=x,e.avail_in=S<A?A-S+5:5-(S-A),e.avail_out=x<R?R-x+257:257-(x-R),T.hold=a,T.bits=o,f=e.next_out,v=e.output,g=e.avail_out,h=e.next_in,p=e.input,m=e.avail_in,w=n.hold,y=n.bits,16191===n.mode&&(n.back=-1);break}for(n.back=0;o=(s=n.lencode[w&(1<<n.lenbits)-1])>>>16&255,a=65535&s,!((C=s>>>24)<=y);){if(0===m)break e;m--,w+=p[h++]<<y,y+=8}if(o&&!(240&o)){for(D=C,M=o,L=a;o=(s=n.lencode[L+((w&(1<<D+M)-1)>>D)])>>>16&255,a=65535&s,!(D+(C=s>>>24)<=y);){if(0===m)break e;m--,w+=p[h++]<<y,y+=8}w>>>=D,y-=D,n.back+=D}if(w>>>=C,y-=C,n.back+=C,n.length=a,0===o){n.mode=16205;break}if(32&o){n.back=-1,n.mode=16191;break}if(64&o){e.msg="invalid literal/length code",n.mode=16209;break}n.extra=15&o,n.mode=16201;case 16201:if(n.extra){for(o=n.extra;y<o;){if(0===m)break e;m--,w+=p[h++]<<y,y+=8}n.length+=w&(1<<n.extra)-1,w>>>=n.extra,y-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;o=(s=n.distcode[w&(1<<n.distbits)-1])>>>16&255,a=65535&s,!((C=s>>>24)<=y);){if(0===m)break e;m--,w+=p[h++]<<y,y+=8}if(!(240&o)){for(D=C,M=o,L=a;o=(s=n.distcode[L+((w&(1<<D+M)-1)>>D)])>>>16&255,a=65535&s,!(D+(C=s>>>24)<=y);){if(0===m)break e;m--,w+=p[h++]<<y,y+=8}w>>>=D,y-=D,n.back+=D}if(w>>>=C,y-=C,n.back+=C,64&o){e.msg="invalid distance code",n.mode=16209;break}n.offset=a,n.extra=15&o,n.mode=16203;case 16203:if(n.extra){for(o=n.extra;y<o;){if(0===m)break e;m--,w+=p[h++]<<y,y+=8}n.offset+=w&(1<<n.extra)-1,w>>>=n.extra,y-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=16209;break}n.mode=16204;case 16204:if(0===g)break e;if(r=_-g,n.offset>r){if((r=n.offset-r)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=16209;break}r>n.wnext?(r-=n.wnext,i=n.wsize-r):i=n.wnext-r,r>n.length&&(r=n.length),C=n.window}else C=v,i=f-n.offset,r=n.length;r>g&&(r=g),g-=r,n.length-=r;do v[f++]=C[i++];while(--r);0===n.length&&(n.mode=16200);break;case 16205:if(0===g)break e;v[f++]=n.length,g--,n.mode=16200;break;case 16206:if(n.wrap){for(;32>y;){if(0===m)break e;m--,w|=p[h++]<<y,y+=8}if(_-=g,e.total_out+=_,n.total+=_,4&n.wrap&&_&&(e.adler=n.check=n.flags?tg(n.check,v,_,f-_):tf(n.check,v,_,f-_)),_=g,4&n.wrap&&(n.flags?w:nU(w))!==n.check){e.msg="incorrect data check",n.mode=16209;break}y=w=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;32>y;){if(0===m)break e;m--,w+=p[h++]<<y,y+=8}if(4&n.wrap&&w!==(0|n.total)){e.msg="incorrect length check",n.mode=16209;break}y=w=0}n.mode=16208;case 16208:k=nN;break e;case 16209:k=nM;break e;case 16210:return nD;default:return nL}return e.next_out=f,e.avail_out=g,e.next_in=h,e.avail_in=m,n.hold=w,n.bits=y,(n.wsize||_!==e.avail_out&&16209>n.mode&&(16206>n.mode||t!==nA))&&nF(e,e.output,e.next_out,_-e.avail_out),b-=e.avail_in,_-=e.avail_out,e.total_in+=b,e.total_out+=_,n.total+=_,4&n.wrap&&_&&(e.adler=n.check=n.flags?tg(n.check,v,_,e.next_out-_):tf(n.check,v,_,e.next_out-_)),e.data_type=n.bits+64*!!n.last+128*(16191===n.mode)+256*(16199===n.mode||16194===n.mode),(0===b&&0===_||t===nA)&&k===nR&&(k=tI),k},inflateEnd:function(e){if(nz(e))return nL;var t=e.state;return t.window&&(t.window=null),e.state=null,nR},inflateGetHeader:function(e,t){return nz(e)?nL:2&(e=e.state).wrap?(e.head=t,t.done=!1,nR):nL},inflateSetDictionary:function(e,t){var n,r=t.length;return nz(e)||0!==(n=e.state).wrap&&16190!==n.mode?nL:16190===n.mode&&tf(1,t,r,0)!==n.check?nM:nF(e,t,r,r)?(n.mode=16210,nD):(n.havedict=1,nR)}},nV=function(){this.os=this.xflags=this.time=this.text=0,this.extra=null,this.extra_len=0,this.comment=this.name="",this.hcrc=0,this.done=!1},nW=Object.prototype.toString,nK=tC,nJ=tE,nX=tT,nY=tS,nQ=tA,nZ=tx;N.prototype.push=function(e,t){var n,r,i=this.strm,o=this.options.chunkSize,a=this.options.dictionary;if(this.ended)return!1;for(t=t===~~t?t:!0===t?tb:tp,"[object ArrayBuffer]"===nW.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(o),i.next_out=0,i.avail_out=o),(n=nj.inflate(i,t))===nX&&a&&((n=nj.inflateSetDictionary(i,a))===nK?n=nj.inflate(i,t):n===nQ&&(n=nX));0<i.avail_in&&n===nJ&&0<i.state.wrap&&0!==e[i.next_in];)nj.inflateReset(i),n=nj.inflate(i,t);switch(n){case nY:case nQ:case nX:case nZ:return this.onEnd(n),this.ended=!0,!1}if(r=i.avail_out,i.next_out&&(0===i.avail_out||n===nJ))if("string"===this.options.to){var l=i.output,c=i.next_out;(c=c||l.length)>l.length&&(c=l.length);for(var s=c-1;0<=s&&128==(192&l[s]);)s--;l=0>s||0===s?c:s+nc[l[s]]>c?s:c,c=i.next_out-l;var u,d,f=i.output,v=(s=l)||f.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)s=(new TextDecoder).decode(f.subarray(0,s));else{for(s=Array(2*v),d=u=0;d<v;){var g=f[d++];if(128>g)s[u++]=g;else{var h=nc[g];if(4<h)s[u++]=65533,d+=h-1;else{for(g&=2===h?31:3===h?15:7;1<h&&d<v;)g=g<<6|63&f[d++],h--;1<h?s[u++]=65533:65536>g?s[u++]=g:(g-=65536,s[u++]=55296|g>>10&1023,s[u++]=56320|1023&g)}}}if(65534>(f=u)&&s.subarray&&nl)s=String.fromCharCode.apply(null,s.length===f?s:s.subarray(0,f));else{for(u=0,v="";u<f;u++)v+=String.fromCharCode(s[u]);s=v}}i.next_out=c,i.avail_out=o-c,c&&i.output.set(i.output.subarray(l,l+c),0),this.onData(s)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(n!==nK||0!==r){if(n===nJ)return n=nj.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},N.prototype.onData=function(e){this.chunks.push(e)},N.prototype.onEnd=function(e){e===nK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=na(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var n$,n0=function(e,t){return(t=t||{}).gzip=!0,function(e,t){if((t=new I(t)).push(e,!0),t.err)throw t.msg||th[t.err];return t.result}(e,t)};(n1=n$||(n$={})).BRAND="DeviceBrand",n1.MANUFACTURER="DeviceManufacturer",n1.MODEL="DeviceModel",n1.TYPE="DeviceType",n1.VERSION="DeviceVersion",n1.OS_NAME="OperatingSystemName",n1.OS_VERSION="OperatingSystemVersion",n1.CATEGORY="DeviceCategory",n1.FRAMEWORK_NAME="FrameworkName",n1.FRAMEWORK_VERSION="FrameworkVersion";var n1,n2,n6,n5={CONSOLE:"Console",DESKTOP:"DESKTOP",MOBILE:"Mobile",SETTOP:"Settop",SMARTTV:"SmartTV",TABLET:"Tablet",VEHICLE:"Vehicle",OTHER:"Other"},n3={ANDROID_DEVICE:"AND",APPLE_DEVICE:"APL",CHROMECAST:"CHR",DESKTOP_APP:"DSKAPP",DEVICE_SIMULATOR:"SIMULATOR",KAIOS_DEVICE:"KAIOS",LG_TV:"LGTV",LINUX:"LNX",NINTENDO:"NINTENDO",PLAYSTATION:"PS",ROKU:"RK",SAMSUNG_TV:"SAMSUNGTV",VIDAA_DEVICE:"VIDAA",VIZIO_TV:"VIZIOTV",WEB:"WEB",WINDOWS_DEVICE:"WIN",XBOX:"XB"};(n4=n2||(n2={})).TRACEPARENT_HEADER_KEY="traceparent",(rn=n9=n4.SAMPLING_MODES||(n4.SAMPLING_MODES={})).NONE="NONE",rn.RCFG="RCFG",(n7=n4.SAMPLING_STATUS||(n4.SAMPLING_STATUS={})).DERIVED="DERIVED",n7.DEFAULT="DEFAULT",(rr=n7=n4.SAMPLING_ACTION||(n4.SAMPLING_ACTION={})).SAMPLED="sl",rr.NON_SAMPLED="nsl",(n8={})[n7.SAMPLED]=n9.RCFG,n8[n7.NON_SAMPLED]=n9.NONE,n4.DEFAULT_SAMPLING_ACTION=n8,(n8=n4.CONFIG_SOURCE||(n4.CONFIG_SOURCE={})).DEFAULT="def",n8.CACHED="cac",n8.REMOTE="rem",(re=n4.CONFIG_PREFERENCES||(n4.CONFIG_PREFERENCES={}))[re.APP=0]="APP",re[re.REMOTE=1]="REMOTE",re[re.MERGE=2]="MERGE",(rt=n4.PERFORMANCE_CONTEXT||(n4.PERFORMANCE_CONTEXT={}))[rt.DISABLED=0]="DISABLED",rt[rt.PERFORMANCE_TIMING=1]="PERFORMANCE_TIMING",rt[rt.PERFORMANCE_NAVIGATION_TIMING=2]="PERFORMANCE_NAVIGATION_TIMING",(re=n4.RC_FETCH_MODE||(n4.RC_FETCH_MODE={})).DO_NOT_FETCH_UPDATE_TIMER="updateTimer",re.IMMEDIATE_FETCH="urgentFetch",re.UPDATE_TIMER_WITH_DIFF="checkDiff",n4.REMOTE_CONFIG_STORAGE_KEY="ConvivaRemoteConfig",n4.END_POINT_STORAGE_KEY="ConvivaEndpoint",n4.DEFAULT_END_POINT="https://appgw.conviva.com",n4.REMOTE_CONFIG_URL_PREFIX="https://rc.conviva.com/js/",n4.REMOTE_CONFIG_FILE_NAME="/remote_config.json",n4.SAMPLING_STORAGE_RANDOM_NUMBER_KEY="ConvivaSamplingRandomNumber",n4.VISUAL_LABELLING_CONFIG="ConvivaVisualLabellingConfig",n4.DIAGNOSTIC_INFO_MAX_LENGTH={MAX_MESSAGE_LENGTH:1024,MAX_STACK_LENGTH:2048,MAX_CLASSNAME_LENGTH:1024,MAX_EXCEPTION_NAME_LENGTH:1024},n4.CLICK_KEY_MAX_LENGTH=1024,n4.CLICK_DEBOUNCING_DELAY=300,n4.CLICK_MAX_DEPTH=16,n4.MAX_NATIVE_SCAN=16,n4.MAX_NATIVE_SCAN_LEGACY=8,n4.PAGE_URL_QUERY_PARAMS="pgq","function"==typeof AbortController&&(n6=new AbortController);var n4,n8,n9,n7,re,rt,rn,rr,ri,ro=null==n6?void 0:n6.signal;(ra=ri||(ri={})).response_body="rsb",ra.request_body="rqb",ra.response_headers="rsh",ra.request_headers="rqh",ra.request_query="rqq";var ra,rl,rc=function(e){try{var t=void 0;return null!=e&&(t=e["content-type"]||e["Content-Type"]||e["Content-type"]),t}catch(e){}},rs={};(ru=rl||(rl={})).APPLICATION_BACKGROUND="abg",ru.APPLICATION_ERROR="ae";var ru,rd,rf,rv={cacheRefreshInterval:30,base64:!1,lifecycleAutotracking:!0,exceptionAutotracking:!0,enablePeriodicHeartbeat:!0,periodicHeartbeatInterval:40,customEventTrackingConfiguration:{enabled:!0},networkRequestTrackingConfiguration:{blocklist:["*"]},traceparentconfig:{enabled:!1,pref:n2.CONFIG_PREFERENCES.MERGE,targetUrl:[]},performanceContextConfig:1,configurationVersion:-1,catRcLastUpdatedTs:0,endpoint:n2.DEFAULT_END_POINT,applicationContext:!0,maxLocalStorageQueueSize:10,emitterConfiguration:{batching:{enabled:!0,byteLimitPostInKB:250,batchingIntervalInSec:5,urgentEvents:[rl.APPLICATION_BACKGROUND,rl.APPLICATION_ERROR]}},enc:"gzip",mend:!0,di:{en:!1,lim:30},clickcc:{en:!0,cssSelectorList:'\n  [role="button"],\n  [data-role="button"],\n  li,\n  [class^="btn"],\n  [class*="click"],\n  [data-click],\n  [data-action],\n  [tabindex]:not([tabindex="-1"]),\n  [onclick],\n  [role="datepicker"],\n  [class*="datepicker"],\n  [class*="date-picker"],\n  [class*="mat-datepicker"],\n  [class*="ant-picker"],\n  [class*="v-date-picker"],\n  [class*="react-datepicker"],\n  [class*="ngx-datepicker"],\n  [data-ng-click],\n  [ng-click],\n  [v-on\\:click],\n  [\\@click],\n  [data-test-id*="click"],\n  [data-testid*="button"],\n  [class*="-btn"],\n  [class*="-button"],\n  [class*="mat-button"],\n  [class*="v-btn"],\n  [class*="v-icon-button"],\n  [data-listener-count-click],\n  [class*="Button"]\n',uiMode:"closest"},collectionRateLimit:{exceptionAutotracking:{maxEvents:20,timeWindow:1e3,disconnectDuration:2e3}},evtStreamTrackingConfiguration:{enabled:!1,collect:[],block:[],conditionalCollectAttr:[]}},rg="cws.conviva.com /wsg /ctp remote_config pings.conviva.com .m3u8 .mpd .ism .m4 .mp4 .ts .png .jpg .jpeg .bmp google-analytics.com googlesyndication.com googleapis stats.g.doubleclick chartbeat.com omtrdc.net app-measurement.com firebase nr-data.net newrelic bitmovin.com/impression bitmovin.com/analytics api.segment.io youbora hotjar mixpanel.com clevertap auryc .aac .vtt .googlevideo webp appsflyer facebook dynatrace mparticle npaw .pdf bookkeeper kochava mp3 marketingcloudapis demdex scorecardresearch lura.live perimeterx.net permutive.app segment.com vaicore.site boomtrain ketchcdn qualtrics .svg amplitude datadoghq branch.io hotjar splunkcloud".split(" ");(rh=rd||(rd={})).NONE="none",rh.GZIP="gzip";var rh,rp,rm=function(e,r,i){var o,l,c,s,u,d,f,v,w,_,k,C,E,T;return l=(o={base64:null==e?void 0:e.base64,corePlugins:r,callback:i,exceptionAutotracking:e.exceptionAutotracking,enablePeriodicHeartbeat:e.enablePeriodicHeartbeat,periodicHeartbeatInterval:e.periodicHeartbeatInterval,enc:e.enc,mend:e.mend,maxLocalStorageQueueSize:e.maxLocalStorageQueueSize,maxGetBytes:e.maxGetBytes,bufferSize:e.bufferSize,customEventTrackingConfiguration:e.customEventTrackingConfiguration,networkRequestTrackingConfiguration:e.networkRequestTrackingConfiguration,metaTagsTrackingConfiguration:e.metaTagsTrackingConfiguration,traceparentconfig:e.traceparentconfig,performanceContextConfig:e.performanceContextConfig,lifecycleAutotracking:e.lifecycleAutotracking,configurationVersion:e.configurationVersion,catRcLastUpdatedTs:e.catRcLastUpdatedTs,cacheRefreshInterval:e.cacheRefreshInterval,endpoint:e.endpoint,controlIngestConfig:e.controlIngestConfig,applicationContext:e.applicationContext,emitterConfiguration:e.emitterConfiguration,di:e.di,clickcc:e.clickcc,collectionRateLimit:e.collectionRateLimit,pageUrlTrackingConfig:e.pageUrlTrackingConfig,evtStreamTrackingConfiguration:e.evtStreamTrackingConfiguration}).base64,s=null!=(c=o.corePlugins)?c:[],u=null==l||l,d=o.callback,_={addPluginContexts:function(e){var t=e?n([],e,!0):[];return s.forEach(function(e){try{e.contexts&&t.push.apply(t,e.contexts())}catch(e){ez.error("Error adding plugin contexts",e)}}),t}},f=[],v=[],w=function(e){var n,r,i,o,a=function(e){var n=0;for(e=e.getJson();n<e.length;n++){var r=e[n];if("ue_px"===r.keyIfEncoded&&"object"===t(r.json.data)&&"string"==typeof(r=r.json.data.schema))return r}return""}(e),l="string"==typeof(n=(n=e).getPayload().e)?n:"",c=[],s=b(f,e,l,a);return c.push.apply(c,s),r=v,i=e,r=y(r).map(function(e){if((e=function(e,t,n,r){if(h(e)){var i,o,a,l,c=e[0],s=!1;try{s=c({event:t.getPayload(),eventType:n,eventSchema:r})}catch(e){s=!1}if(!0===s)return b(e[1],t,n,r)}else if(p(e)&&(i=e[0],o=0,a=0,Array.isArray(l=i.accept)?i.accept.some(function(e){return m(e,r)})&&a++:"string"==typeof l&&m(l,r)&&a++,Array.isArray(l=i.reject)?i.reject.some(function(e){return m(e,r)})&&o++:"string"==typeof l&&m(l,r)&&o++,0<a&&0===o))return b(e[1],t,n,r);return[]}(e,i,l,a))&&0!==e.length)return e}),e=(o=[]).concat.apply(o,r.filter(function(e){return null!=e&&e.filter(Boolean)})),c.push.apply(c,e),c},k={getGlobalPrimitives:function(){return f},getConditionalProviders:function(){return v},addGlobalContexts:function(e){for(var t=[],n=[],r=0;r<e.length;r++){var i,o=e[r];h(i=o)||p(i)?t.push(o):g(o)&&n.push(o)}f=f.concat(n),v=v.concat(t)},clearGlobalContexts:function(){v=[],f=[]},removeGlobalContexts:function(e){for(var t=function(e){var t;h(t=e)||p(t)?v=v.filter(function(t){return JSON.stringify(t)!==JSON.stringify(e)}):g(e)&&(f=f.filter(function(t){return JSON.stringify(t)!==JSON.stringify(e)}))},n=0;n<e.length;n++)t(e[n])},getApplicableContexts:function(e){return w(e)}},C=u,E={},T=em(em({},l={track:function(e,t,r){e.withJsonProcessor((i=C,function(e,t,r){for(var o=function(t,n,r){if(t=JSON.stringify(t),i){if(r=e.add,t){var o,a=0,l=0,c=[];if(t){t=unescape(encodeURIComponent(t));do{var s=(o=t.charCodeAt(a++)<<16|t.charCodeAt(a++)<<8|t.charCodeAt(a++))>>18&63,u=o>>12&63,d=o>>6&63;o&=63,c[l++]=eM.charAt(s)+eM.charAt(u)+eM.charAt(d)+eM.charAt(o)}while(a<t.length);s=c.join(""),t=((t=t.length%3)?s.slice(0,t-3):s)+"===".slice(t||3)}t=t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}r.call(e,n,t)}else e.add(r,t)},a=function(t,n){return t||(t=e.getPayload(),t=(i?t.cx:t.co)?JSON.parse(i?function(e){if(!e)return e;switch(4-e.length%4){case 2:e+="==";break;case 3:e+="="}return function(e){var t,n,r,i=0,o=0,a="",l=[];if(!e)return e;e+="";do{var c=(t=eM.indexOf(e.charAt(i++))<<18|eM.indexOf(e.charAt(i++))<<12|(n=eM.indexOf(e.charAt(i++)))<<6|(r=eM.indexOf(e.charAt(i++))))>>16&255,s=t>>8&255;t&=255,l[o++]=64===n?String.fromCharCode(c):64===r?String.fromCharCode(c,s):String.fromCharCode(c,s,t)}while(i<e.length);return decodeURIComponent(l.join("").replace(/\0+$/,"").split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}(e.replace(/-/g,"+").replace(/_/g,"/"))}(t.cx):t.co):void 0),t?t.dt=t.dt.concat(n.dt):t=n,t},l=void 0,c=0;c<t.length;c++){var s=t[c];"cx"===s.keyIfEncoded?l=a(l,s.json):o(s.json,s.keyIfEncoded,s.keyIfNotEncoded)}t.length=0,r.length&&(l=a(l,{sc:"sp/ctx/1-0-0",dt:n([],r,!0)}),r.length=0),l&&o(l,"cx","co")})),e.add("eid",eL.v4()),e.addDict(E),r=null==(o=r)?{type:"dtm",value:(new Date).getTime()}:"number"==typeof o?{type:"dtm",value:o}:"ttm"===o.type?{type:"ttm",value:o.value}:{type:"dtm",value:o.value||(new Date).getTime()},e.add(r.type,r.value.toString()),void 0!==(t=function(e){if(e&&e.length)return{sc:"sp/ctx/1-0-0",dt:e}}((a=e,l=_.addPluginContexts(t),a=k.getApplicableContexts(a),c=[],l&&l.length&&c.push.apply(c,l),a&&a.length&&c.push.apply(c,a),c)))&&e.addJson("cx","co",t),s.forEach(function(t){try{t.beforeTrack&&t.beforeTrack(e)}catch(e){ez.error("Plugin beforeTrack",e)}}),"function"==typeof d&&d(e);var i,o,a,l,c,u=e.build();return s.forEach(function(e){try{e.afterTrack&&e.afterTrack(u)}catch(e){ez.error("Plugin afterTrack",e)}}),u},addPayloadPair:function(e,t){E[e]=t},configuration:o,getConfig:function(){return o},setConfig:function(e){e&&(void 0!==e.base64&&(o.base64=e.base64,C=e.base64),void 0!==e.lifecycleAutotracking&&(o.lifecycleAutotracking=e.lifecycleAutotracking),void 0!==e.cacheRefreshInterval&&(o.cacheRefreshInterval=e.cacheRefreshInterval),void 0!==e.exceptionAutotracking&&(o.exceptionAutotracking=e.exceptionAutotracking),void 0!==e.enablePeriodicHeartbeat&&(o.enablePeriodicHeartbeat=e.enablePeriodicHeartbeat),void 0!==e.periodicHeartbeatInterval&&(o.periodicHeartbeatInterval=e.periodicHeartbeatInterval),void 0!==e.enc&&(o.enc=e.enc),void 0!==e.mend&&(o.mend=e.mend),void 0!==e.maxLocalStorageQueueSize&&(o.maxLocalStorageQueueSize=e.maxLocalStorageQueueSize),void 0!==e.maxGetBytes&&(o.maxGetBytes=e.maxGetBytes),void 0!==e.bufferSize&&(o.bufferSize=e.bufferSize),void 0!==e.customEventTrackingConfiguration&&(o.customEventTrackingConfiguration=e.customEventTrackingConfiguration),void 0!==e.networkRequestTrackingConfiguration&&(o.networkRequestTrackingConfiguration=e.networkRequestTrackingConfiguration),void 0!==e.traceparentconfig&&(o.traceparentconfig=e.traceparentconfig),void 0!==e.metaTagsTrackingConfiguration&&(o.metaTagsTrackingConfiguration=e.metaTagsTrackingConfiguration),void 0!==e.evtStreamTrackingConfiguration&&(o.evtStreamTrackingConfiguration=e.evtStreamTrackingConfiguration),void 0!==e.performanceContextConfig&&(o.performanceContextConfig=e.performanceContextConfig),void 0!==e.configurationVersion&&(o.configurationVersion=e.configurationVersion),void 0!==e.catRcLastUpdatedTs&&(o.catRcLastUpdatedTs=e.catRcLastUpdatedTs),void 0!==e.endpoint&&(o.endpoint=e.endpoint),void 0!==e.controlIngestConfig&&(o.controlIngestConfig=e.controlIngestConfig),void 0!==e.applicationContext&&(o.applicationContext=e.applicationContext),void 0!==e.emitterConfiguration&&(o.emitterConfiguration=e.emitterConfiguration),void 0!==e.di&&(o.di=e.di),void 0!==e.clickcc&&(o.clickcc=e.clickcc),void 0!==e.collectionRateLimit&&(o.collectionRateLimit=e.collectionRateLimit),void 0!==e.pageUrlTrackingConfig?o.pageUrlTrackingConfig=e.pageUrlTrackingConfig:o.pageUrlTrackingConfig=null)},getBase64Encoding:function(){return C},setBase64Encoding:function(e){C=e},addPayloadDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(E[t]=e[t])},resetPayloadPairs:function(e){E=a(e)?e:{}},setTrackerVersion:function(e){E.tv=e},setTrackerNamespace:function(e){E.tna=e},setAppId:function(e){E.aid=e},setPlatform:function(e){E.p=e},setUserId:function(e){E.uid=e},setScreenResolution:function(e,t){E.res=e+"x"+t},setViewport:function(e,t){E.vp=e+"x"+t},setColorDepth:function(e){E.cd=e},setTimezone:function(e){E.tz=e},setLang:function(e){E.lang=e},setIpAddress:function(e){E.ip=e},setUseragent:function(e){E.ua=e},addGlobalContexts:function(e){k.addGlobalContexts(e)},clearGlobalContexts:function(){k.clearGlobalContexts()},removeGlobalContexts:function(e){k.removeGlobalContexts(e)}}),{addPlugin:function(e){var t,n;e=e.plugin,s.push(e),null==(t=e.logger)||t.call(e,ez),null==(n=e.activateCorePlugin)||n.call(e,T)}}),null==s||s.forEach(function(e){var t,n;null==(t=e.logger)||t.call(e,ez),null==(n=e.activateCorePlugin)||n.call(e,T)}),rf=T},rw=function(e){var t={};return e.forEach(function(e,n){t[n]=e}),t},ry=["/ctp","/wsg","remote_config","rc.conviva.com","pings.conviva.com"];(rb=rp||(rp={}))[rb.NETWORK_REQUEST=0]="NETWORK_REQUEST",rb[rb.CUSTOM_EVENT=1]="CUSTOM_EVENT",rb[rb.SSE_EVENT=2]="SSE_EVENT";var rb,r_,rk,rC,rE,rT,rS=0,rA=0,rx=n2.CONFIG_SOURCE.DEFAULT,rI=0,rR=!1,rN=null,rO=null,rL=0,rM='\n  button,\n  a,\n  select,\n  textarea,\n  input:not([type="hidden"]),\n  summary,\n  video,\n  audio\n'.replace(/\s+/g,"")||0,rD='\n[class*="card"]\n'.replace(/\s+/g,"")||0,rP="undefined"!=typeof window&&(null==window?0:window.localStorage)?localStorage.getItem(n2.REMOTE_CONFIG_STORAGE_KEY):null,rU=rP?null==(rk=null==(r_=JSON.parse(rP).clickcc)?void 0:r_.cssSelectorList)?void 0:rk.replace(/\s+/g,""):null==(rC=rv.clickcc)?void 0:rC.cssSelectorList;(rz=rT||(rT={})).BOTH="both",rz.CLOSEST="closest",rz.RAW="raw","undefined"!=typeof Element&&Element.prototype&&!Element.prototype.closest&&(Element.prototype.closest=function(e){try{for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}}catch(e){ez.warn("Conviva App Tracker caused Exception in closest polyfill method of user click tracking module",e)}return null});var rz,rG,rq,rB,rH,rF,rj=function(e){this.cacheRefreshInterval=e.cacheRefreshInterval,this.base64=e.base64,this.corePlugins=e.corePlugins,this.callback=e.callback,this.lifecycleAutotracking=e.lifecycleAutotracking,this.exceptionAutotracking=e.exceptionAutotracking,this.enablePeriodicHeartbeat=e.enablePeriodicHeartbeat,this.periodicHeartbeatInterval=e.periodicHeartbeatInterval,this.enc=e.enc,this.maxLocalStorageQueueSize=e.maxLocalStorageQueueSize,this.maxPostBytes=e.maxPostBytes,this.maxGetBytes=e.maxGetBytes,this.bufferSize=e.bufferSize,this.customEventTrackingConfiguration=e.customEventTrackingConfiguration,this.networkRequestTrackingConfiguration=e.networkRequestTrackingConfiguration,this.traceparentconfig=e.traceparentconfig,this.metaTagsTrackingConfiguration=e.metaTagsTrackingConfiguration,this.performanceContextConfig=e.performanceContextConfig,this.mend=e.mend,this.configurationVersion=e.configurationVersion,this.catRcLastUpdatedTs=e.catRcLastUpdatedTs,this.endpoint=e.endpoint,this.emitterConfiguration=e.emitterConfiguration,this.controlIngestConfig=e.controlIngestConfig,this.applicationContext=e.applicationContext,this.di=e.di,this.clickcc=e.clickcc,this.collectionRateLimit=e.collectionRateLimit,this.pageUrlTrackingConfig=e.pageUrlTrackingConfig,this.evtStreamTrackingConfiguration=e.evtStreamTrackingConfiguration},rV=function(){function e(){this.cacheRefreshInterval=rv.cacheRefreshInterval,this.base64=rv.base64,this.lifecycleAutotracking=rv.lifecycleAutotracking,this.exceptionAutotracking=rv.exceptionAutotracking,this.enablePeriodicHeartbeat=rv.enablePeriodicHeartbeat,this.periodicHeartbeatInterval=rv.periodicHeartbeatInterval,this.customEventTrackingConfiguration=em({},rv.customEventTrackingConfiguration),this.networkRequestTrackingConfiguration=em({},rv.networkRequestTrackingConfiguration),this.traceparentconfig=em({},rv.traceparentconfig),this.performanceContextConfig=rv.performanceContextConfig,this.configurationVersion=rv.configurationVersion,this.catRcLastUpdatedTs=rv.catRcLastUpdatedTs,this.endpoint=rv.endpoint,this.emitterConfiguration=rv.emitterConfiguration,this.applicationContext=rv.applicationContext,this.enc=rv.enc,this.mend=rv.mend,this.di=em({},rv.di),this.clickcc=em({},rv.clickcc),this.collectionRateLimit=em({},rv.collectionRateLimit),this.evtStreamTrackingConfiguration=em({},rv.evtStreamTrackingConfiguration)}return e.prototype.setCacheRefreshInterval=function(e){return this.cacheRefreshInterval="number"==typeof e&&1<=e&&L(e)?e:rv.cacheRefreshInterval,this},e.prototype.setBase64=function(e){return"boolean"==typeof e&&(this.base64=e),this},e.prototype.setCorePlugins=function(e){return e&&(this.corePlugins=e),this},e.prototype.setCallback=function(e){return e&&(this.callback=e),this},e.prototype.setLifecycleAutotracking=function(e){return"boolean"==typeof e&&(this.lifecycleAutotracking=e),this},e.prototype.setExceptionAutotracking=function(e){return"boolean"==typeof e&&(this.exceptionAutotracking=e),this},e.prototype.setEnablePeriodicHeartbeat=function(e){return"boolean"==typeof e&&(this.enablePeriodicHeartbeat=e),this},e.prototype.setPeriodicHeartbeatInterval=function(e){return"number"==typeof e&&1<=e&&(this.periodicHeartbeatInterval=~~e),this},e.prototype.setEnc=function(e,t){return"string"==typeof e&&Object.values(rd).includes(e)?this.enc=e:t&&"string"==typeof t&&Object.values(rd).includes(t)?this.enc=t:this.enc=rv.enc,this},e.prototype.setMaxLocalStorageQueueSize=function(e){return"number"==typeof e&&(this.maxLocalStorageQueueSize=e),this},e.prototype.setMaxGetBytes=function(e){return"number"==typeof e&&(this.maxGetBytes=e),this},e.prototype.setBufferSize=function(e){return"number"==typeof e&&(this.bufferSize=e),this},e.prototype.setCustomEventTrackingConfiguration=function(e){return e&&(this.customEventTrackingConfiguration=e),this},e.prototype.setEmitterConfiguration=function(e){return void 0!==e&&(void 0!==e.batching.enabled&&(this.emitterConfiguration.batching.enabled=e.batching.enabled),void 0!==e.batching.batchingIntervalInSec&&0<e.batching.batchingIntervalInSec&&(this.emitterConfiguration.batching.batchingIntervalInSec=e.batching.batchingIntervalInSec),"undefined"!=e.batching.byteLimitPostInKB&&0<e.batching.byteLimitPostInKB&&(this.emitterConfiguration.batching.byteLimitPostInKB=e.batching.byteLimitPostInKB),void 0!==e.batching.urgentEvents&&(this.emitterConfiguration.batching.urgentEvents=e.batching.urgentEvents)),this},e.prototype.setNetworkRequestTrackingConfiguration=function(e,t,n){return e&&(this.networkRequestTrackingConfiguration=e,t&&(this.networkRequestTrackingConfiguration.blocklist||(this.networkRequestTrackingConfiguration.blocklist=[]),n&&this.networkRequestTrackingConfiguration.blocklist.push(n),this.networkRequestTrackingConfiguration.blocklist=this.networkRequestTrackingConfiguration.blocklist.concat(rg))),this},e.prototype.setTraceparentconfig=function(e){return e&&(this.traceparentconfig=e),this},e.prototype.setMetaTagsTrackingConfiguration=function(e){return e&&(this.metaTagsTrackingConfiguration=e),this},e.prototype.setPerformanceContextConfig=function(e){return"number"==typeof e&&(this.performanceContextConfig=e),this},e.prototype.setMend=function(e,t){return"boolean"==typeof e?this.mend=e:"boolean"==typeof t&&(this.mend=t),this},e.prototype.setConfigurationVersion=function(e){return"number"==typeof e&&(this.configurationVersion=e),this},e.prototype.setCatRcLastUpdatedTs=function(e){return"number"==typeof e&&(this.catRcLastUpdatedTs=e),this},e.prototype.setEndPoint=function(e,t,n){return"string"==typeof n&&0<n.trim().length?this.endpoint=n:"string"==typeof e&&0<e.trim().length?this.endpoint=e:t&&"string"==typeof t&&0<t.trim().length?this.endpoint=t:this.endpoint=rv.endpoint,this},e.prototype.setcontrolIngestConfig=function(e){return void 0!==e?this.controlIngestConfig=e:V(),this},e.prototype.setApplicationContext=function(e){return void 0!==e&&(this.applicationContext=e),this},e.prototype.setDi=function(e){return void 0!==e&&(this.di=em(em({},this.di),e)),this},e.prototype.setClickcc=function(e){var t,n;return void 0!==e&&("boolean"==typeof e.en&&(this.clickcc.en=e.en),e.cssSelectorList&&0<e.cssSelectorList.trim().length&&(this.clickcc.cssSelectorList=e.cssSelectorList),"string"==typeof e.uiMode&&Object.values(rT).includes(e.uiMode)&&(this.clickcc.uiMode=e.uiMode),void 0!==e.block&&(this.clickcc.block=e.block),void 0!==e.collect&&(this.clickcc.collect=e.collect),void 0!==e.collectattr&&(this.clickcc.collectattr=e.collectattr)),"boolean"==typeof(null==(t=null==this?void 0:this.clickcc)?void 0:t.en)&&!0===(null==(n=null==this?void 0:this.clickcc)?void 0:n.en)?function(){try{rR||"undefined"==typeof document||(document.body?(rN=eu,z(document.body,"click",rN,{signal:ro,capture:!0,passive:!0}),rR=!0):document.addEventListener("DOMContentLoaded",function(){(null==document?0:document.body)&&(rN=eu,z(document.body,"click",rN,{signal:ro,capture:!0,passive:!0}),rR=!0)}),ec(),(null==window?void 0:window.addEventListener)&&window.addEventListener("RemoteConfigUpdateApplied",function(){ec()},{signal:ro}))}catch(e){ez.warn("Conviva App Tracker caused Exception in enableUserClickTracking method of user click tracking module",e)}}():ed(),this},e.prototype.setCollectionRateLimit=function(e){return null!=e&&(this.collectionRateLimit=em(em({},this.collectionRateLimit),e)),this},e.prototype.setPageUrlTrackingConfig=function(e){return this.pageUrlTrackingConfig=void 0!==e?e:null,this},e.prototype.setEvtStreamTrackingConfiguration=function(e){return void 0!==e&&("boolean"==typeof e.enabled&&(this.evtStreamTrackingConfiguration.enabled=e.enabled),void 0!==e.block&&(this.evtStreamTrackingConfiguration.block=e.block),void 0!==e.collect&&(this.evtStreamTrackingConfiguration.collect=e.collect),void 0!==e.conditionalCollectAttr&&(this.evtStreamTrackingConfiguration.conditionalCollectAttr=e.conditionalCollectAttr)),this},e.prototype.build=function(){return new rj(this)},e}(),rW=!1,rK=null,rJ=0,rX=!1,rY=function(e,t,n,r,i){var o=n.trackerConfigUrl?n.trackerConfigUrl:r;if("number"==typeof rK){window.clearInterval(rK);var a={message:"Cancelling remote config timer",className:"updateRemoteConfig",extraData:{mode:i},configAppliedSrc:rx,configAppliedTime:rI};setTimeout(function(){el(rf,null==rq?void 0:rq.getSamplingMode,a)},0)}var l=function(){var t={message:"Starting remote config timer with delay of ".concat(60*e," seconds"),className:"updateRemoteConfig",configAppliedSrc:rx,configAppliedTime:rI};setTimeout(function(){el(rf,null==rq?void 0:rq.getSamplingMode,t)},0),rK=window.setInterval(rQ,6e4*e,o)};try{var c=t?((new Date).getTime()-t)/6e4:e;if(n=e-c,r=3*e/100,"string"==typeof i&&i===n2.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER)l();else if("string"==typeof i&&i===n2.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF&&0<t&&n>r){window.setTimeout(function(){rQ(o),l()},6e4*n);var s={message:"Starting remote config timer with delay of ".concat(60*n," seconds"),className:"updateRemoteConfig",extraData:{mode:i},configAppliedSrc:rx,configAppliedTime:rI};setTimeout(function(){el(rf,null==rq?void 0:rq.getSamplingMode,s)},0)}else rQ(o),l()}catch(e){console.warn("Conviva App Tracker:: Error in setting cacheRefreshIntervalTimer",e),rQ(o),l();var u={className:"cacheRefreshIntervalTimer",error:e,configAppliedSrc:rx,configAppliedTime:rI};setTimeout(function(){el(rf,null==rq?void 0:rq.getSamplingMode,u)},0)}},rQ=function(e,t){try{if("boolean"==typeof rW&&!1===rW){t?rJ++:rJ=0,rG.timeout=3e4,rG.open("GET",e,!0),rW=!0;var n={message:"Remote config fetch attempt",className:"updateRemoteConfig",configAppliedSrc:rx,configAppliedTime:rI};setTimeout(function(){el(rf,null==rq?void 0:rq.getSamplingMode,n)},0),rG.send()}}catch(e){rW=!1,ez.warn("Conviva App Tracker:: Error in configtimerCallback ".concat(e));var r={className:"configtimerCallback",error:e,configAppliedSrc:rx,configAppliedTime:rI};setTimeout(function(){el(rf,null==rq?void 0:rq.getSamplingMode,r)},0)}},rZ=function(e,t,n){var r,i,o,a,l,c,s,u,d,f,v,g,h,p,m,w,y,b,_,k,C,E,T,S,A,x,I,R,N,O,L,M,D,P=rf;try{var U=(new rV).setBase64(e.configurationBundle[0].trackerConfiguration.base64Encoding).setCacheRefreshInterval(e.cri||e.cacheRefreshInterval).setLifecycleAutotracking(null==(i=null==(r=e.configurationBundle[0])?void 0:r.trackerConfiguration)?void 0:i.lifecycleAutotracking).setExceptionAutotracking(null==(a=null==(o=e.configurationBundle[0])?void 0:o.trackerConfiguration)?void 0:a.exceptionAutotracking).setEnablePeriodicHeartbeat(null==(c=null==(l=e.configurationBundle[0])?void 0:l.trackerConfiguration)?void 0:c.enablePeriodicHeartbeat).setPeriodicHeartbeatInterval(null==(u=null==(s=e.configurationBundle[0])?void 0:s.trackerConfiguration)?void 0:u.periodicHeartbeatInterval).setEnc(null==(f=null==(d=e.configurationBundle[0])?void 0:d.networkConfiguration)?void 0:f.enc,null==(g=null==(v=null==n?void 0:n.configs)?void 0:v.network)?void 0:g.encoding).setMaxLocalStorageQueueSize(null==(p=null==(h=e.configurationBundle[0])?void 0:h.networkConfiguration)?void 0:p.maxLocalStorageQueueSize).setMaxGetBytes(null==(w=null==(m=e.configurationBundle[0])?void 0:m.networkConfiguration)?void 0:w.maxGetBytes).setBufferSize(null==(b=null==(y=e.configurationBundle[0])?void 0:y.networkConfiguration)?void 0:b.bufferSize).setCustomEventTrackingConfiguration(null==(_=e.configurationBundle[0])?void 0:_.customEventTrackingConfiguration).setEndPoint(null==(C=null==(k=e.configurationBundle[0])?void 0:k.networkConfiguration)?void 0:C.endpoint,n.gatewayUrl,n.proxyGatewayUrl).setNetworkRequestTrackingConfiguration(null==(E=e.configurationBundle[0])?void 0:E.networkRequestTrackingConfiguration,!0,null==(S=null==(T=e.configurationBundle[0])?void 0:T.networkConfiguration)?void 0:S.endpoint).setMetaTagsTrackingConfiguration(null==(A=e.configurationBundle[0])?void 0:A.metaTagsTrackingConfiguration).setTraceparentconfig(null==(x=e.configurationBundle[0])?void 0:x.traceparentconfig).setMend(null==(R=null==(I=e.configurationBundle[0])?void 0:I.networkConfiguration)?void 0:R.mend,null==(O=null==(N=null==n?void 0:n.configs)?void 0:N.network)?void 0:O.mergeEndpoint).setPerformanceContextConfig(null==(M=null==(L=e.configurationBundle[0])?void 0:L.trackerConfiguration)?void 0:M.perfCx).setConfigurationVersion(e.configurationVersion).setCatRcLastUpdatedTs(t).setEmitterConfiguration(e.configurationBundle[0].emitterConfiguration).setcontrolIngestConfig(e["ctrl-ingst"]).setApplicationContext(e.configurationBundle[0].trackerConfiguration.applicationContext).setDi(e.configurationBundle[0].di).setClickcc(e.configurationBundle[0].clickcc).setCollectionRateLimit(e.configurationBundle[0].collectionRateLimit).setPageUrlTrackingConfig(e.configurationBundle[0].pageUrlTrackingConfig).setEvtStreamTrackingConfiguration(e.configurationBundle[0].evtStreamTrackingConfiguration).build();rx=n2.CONFIG_SOURCE.REMOTE,rI=(new Date).getTime(),null==P||P.setConfig(U),e={message:"Remote Config Applied",className:"updateRemoteConfig - tracker",configAppliedSrc:rx,configAppliedTime:rI},el(rf,null==rq?void 0:rq.getSamplingMode,e),null==rq||rq.setCollectorUrl(null==(D=null==P?void 0:P.getConfig())?void 0:D.endpoint,n.convivaCustomerKey);try{window.localStorage&&(localStorage.removeItem(n2.REMOTE_CONFIG_STORAGE_KEY),localStorage.setItem(n2.REMOTE_CONFIG_STORAGE_KEY,JSON.stringify(U)))}catch(e){el(rf,null==rq?void 0:rq.getSamplingMode,{className:"updateRemoteConfig - localstorage",error:e,configAppliedSrc:rx,configAppliedTime:rI}),console.warn("Conviva: Error while saving remote-config to localstorage",e)}}catch(t){return e={className:"updateRemoteConfig - tracker",error:t,configAppliedSrc:rx,configAppliedTime:rI},el(rf,null==rq?void 0:rq.getSamplingMode,e),console.warn("Conviva: Error while updating remote-config",t),!1}return!0},r$={idleMs:3e4,maxEvents:1e4,bufferMaxBytes:1e6},r0=function(){function e(e,t,n){var r;this.originalFetch=null==(r=null==window?void 0:window.fetch)?void 0:r.bind(window),this.sseCountStates=new Map,this.core=rf,this.trackerMethods=e,this.trackerConfiguration=t,this.getSamplingMode=n,this.handleResponse=this.handleResponse.bind(this),this.addTraceparentHeader=this.addTraceparentHeader.bind(this)}return e.prototype.cleanupNetworkRequestHandler=function(){e.instance=null},e.getInstance=function(t,n,r){return e.instance||(e.instance=new e(t,n,r)),e.instance},e.prototype.initiateNetworkRequestTracking=function(){try{this.decorateXMLHttpRequest(),this.decorateFetch(),this.decorateWebSocket()}catch(e){console.warn("Conviva App Tracker:: Unable to track network request ".concat(e))}},e.prototype.decorateXMLHttpRequest=function(){var e=this,t=XMLHttpRequest.prototype.open,n=XMLHttpRequest.prototype.send,r=XMLHttpRequest.prototype.setRequestHeader;XMLHttpRequest.prototype.open=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return setTimeout(function(){try{n._conviva={method:r[0],url:e.normalizeUrl(r[1]),headers:{}}}catch(e){console.warn("Conviva App Tracker:: Unable to normalizeUrl while open ".concat(e))}},0),t.apply(this,r)},XMLHttpRequest.prototype.setRequestHeader=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return setTimeout(function(){try{e._conviva&&(e._conviva.headers[t[0]]=t[1])}catch(e){console.warn("Conviva App Tracker:: while setRequestHeader ".concat(e))}},0),r.apply(this,t)},XMLHttpRequest.prototype.send=function(){for(var t=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return setTimeout(function(){try{var n=t._conviva;if(n){var i=e.addTraceparentHeader(t,n.url,n.headers),o=e.createRequestDetails(n.method,n.url,n.headers,r[0],i);n=ro,t.addEventListener("load",function(){return e.handleResponse(t,o,"load")},{signal:n}),t.addEventListener("error",function(){return e.handleResponse(t,o,"error")},{signal:n}),t.addEventListener("abort",function(){return e.handleResponse(t,o,"abort")},{signal:n}),t.addEventListener("timeout",function(){return e.handleResponse(t,o,"timeout")},{signal:n})}}catch(e){console.warn("Conviva App Tracker:: Unable to track network request while send ".concat(e))}},0),n.apply(this,r)}},e.prototype.decorateFetch=function(){window.fetch=this.interceptFetch.bind(this)},e.prototype.interceptFetch=function(e,t){var n,r,i,o,a=this,l=null;if(e instanceof Request){var c=null==e?void 0:e.clone();try{var s=!1;null==(n=null==c?void 0:c.headers)||n.forEach(function(e,t){n2.TRACEPARENT_HEADER_KEY===t&&(s=!0)}),s||null!==(l=this.generateTraceparentHeader(c.url))&&""!==l&&c.headers.set(n2.TRACEPARENT_HEADER_KEY,l)}catch(e){console.warn("ConvivaAppTracker: Issue while adding traceparent header",e)}n=this.originalFetch(c)}else{try{if(t&&t.headers){var u=new Headers(t.headers),d=!1;u.forEach(function(e,t){n2.TRACEPARENT_HEADER_KEY===t&&(d=!0)}),d||null!==(l=this.generateTraceparentHeader(e))&&""!==l&&u.set(n2.TRACEPARENT_HEADER_KEY,l),t.headers=u}else u=new Headers,null!==(l=this.generateTraceparentHeader(e))&&""!==l&&u.set(n2.TRACEPARENT_HEADER_KEY,l),t?t.headers=u:(t={}).headers=u}catch(e){console.warn("ConvivaAppTracker: Issue while adding traceparent header",e)}n=this.originalFetch(e,t),c=new Request(e,t).clone()}try{e=void 0;try{e=rw(c.headers)}catch(e){}u=void 0;try{u=null==t?void 0:t.body}catch(e){}var f={method:c.method,url:decodeURIComponent(c.url),headers:e,body:u,requestTimestamp:null==Date?void 0:Date.now(),requestTime:(null==performance?void 0:performance.now())||(null==Date?void 0:Date.now())};if(this.getSamplingMode()!==n2.SAMPLING_MODES.NONE){var v=this.core.getConfig().networkRequestTrackingConfiguration,g=this.core.getConfig().evtStreamTrackingConfiguration,h=v.blocklist,p=null==(o=null==(i=null==(r=this.trackerConfiguration)?void 0:r.configs)?void 0:i.networkRequestTracking)?void 0:o.safelist,m=v.collect,w=v.block;null!==l&&""!==l&&(f[n2.TRACEPARENT_HEADER_KEY]=l),n.then(function(e){try{var t=e.headers.get("content-type");if(g&&g.enabled&&t&&t.includes("text/event-stream")){var n=e.clone().body;n?(function(e,t,n,r,i){var o,a,l,c,s,u,d;return void 0===r&&(r={}),c=this,s=void 0,u=void 0,d=function(){var c,s,u,d,f,v,g,h,p,m,w,y,b,_,k;return function(e,t){function n(n){return function(c){var s=[n,c];if(r)throw TypeError("Generator is already executing.");for(;l&&(l=0,s[0]&&(a=0)),a;)try{if(r=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=0<o.length&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3]))a.label=s[1];else if(6===s[0]&&a.label<o[1])a.label=o[1],o=s;else if(o&&a.label<o[2])a.label=o[2],a.ops.push(s);else{o[2]&&a.ops.pop(),a.trys.pop();continue}}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}var r,i,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},l=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return l.next=n(0),l.throw=n(1),l.return=n(2),"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l}(this,function(C){switch(C.label){case 0:c=null!=(o=r.idleMs)?o:3e4,s=null!=(a=r.maxEvents)?a:1e4,u=null!=(l=r.bufferMaxBytes)?l:1e6,d=e.getReader(),f=new TextDecoder("utf-8"),v="",g=0,h=void 0,(p=function(){void 0!==h&&(clearTimeout(h),h=void 0),h=setTimeout(function(){console.warn("Conviva App Tracker:: stream idle >",c,"ms  cancelling",t),d.cancel()},c)})(),C.label=1;case 1:C.trys.push([1,5,6,7]),C.label=2;case 2:return[4,d.read()];case 3:if(w=(m=C.sent()).value,m.done)return[3,4];if(p(),v+=f.decode(w,{stream:!0}),(new TextEncoder).encode(v).length>u)return console.warn("Conviva App Tracker:: SSE buffer exceeded",u,"bytes, cancelling stream",t),d.cancel(),[3,4];for(y=void 0;-1!==(y=v.search(/\r?\n\r?\n/));)if(b=v.slice(0,y).replace(/\s+$/,""),v=v.slice(y+2),(_=function(e){var t={data:""},n=0;for(e=e.split(/\n+/);n<e.length;n++){var r=e[n];if(r&&!r.startsWith(":")){var i=r.indexOf(":"),o=(-1===i?r:r.slice(0,i)).trim();switch(r=-1===i?"":r.slice(i+1).replace(/^\s+/,""),o){case"data":t.data+=(t.data?"\n":"")+r;break;case"event":t.event=r;break;case"id":t.id=r}}}return t.data?t:null}(b))&&(n(_),++g>=s)){console.warn("Conviva App Tracker:: event budget reached  cancelling",t),d.cancel();break}return[3,2];case 4:return[3,7];case 5:if(!((k=C.sent())instanceof DOMException&&"AbortError"===k.name))throw k;return[3,7];case 6:return clearTimeout(h),d.releaseLock(),i&&i(),[7];case 7:return[2]}})},new(u||(u=Promise))(function(e,t){function n(e){try{i(d.next(e))}catch(e){t(e)}}function r(e){try{i(d.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):((i=t.value)instanceof u?i:new u(function(e){e(i)})).then(n,r)}i((d=d.apply(c,s||[])).next())})})(n,c.url,function(e){a.processSSEEvent(e,c.url)},{idleMs:g.idleMs,maxEvents:g.maxEvents,bufferMaxBytes:g.bufferMaxBytes},function(){a.cleanupSSECountState(c.url)}).catch(function(){}):console.warn("Conviva App Tracker:: Response body is null, cannot read as stream")}else if(v&&v.enabled&&(t=ee(m,w,h,p,e,f))){t=void 0;try{t=rw(e.headers)}catch(e){}var r={status:null==e?void 0:e.status,statusText:""!==(null==e?void 0:e.statusText)?null==e?void 0:e.statusText:void 0,headers:t,size:0,responseTimestamp:null==Date?void 0:Date.now(),responseTime:(null==performance?void 0:performance.now())||(null==Date?void 0:Date.now())};e.clone().json().then(function(e){r.body=e,a.trackerMethods.trackNetworkRequest({requestDetails:f,responseDetails:r})}).catch(function(){a.trackerMethods.trackNetworkRequest({requestDetails:f,responseDetails:r})})}}catch(n){t=ee(m,w,h,p,e,f),v&&v.enabled&&t&&(e={statusText:n.toString(),responseTimestamp:null==Date?void 0:Date.now(),responseTime:(null==performance?void 0:performance.now())||(null==Date?void 0:Date.now())},a.trackerMethods.trackNetworkRequest({requestDetails:f,responseDetails:e}))}}).catch(function(e){var t=ee(m,w,h,p,null,f);v&&v.enabled&&t&&(e={statusText:e.toString(),responseTimestamp:null==Date?void 0:Date.now(),responseTime:(null==performance?void 0:performance.now())||(null==Date?void 0:Date.now())},a.trackerMethods.trackNetworkRequest({requestDetails:f,responseDetails:e}))})}}catch(e){console.warn("Conviva App Tracker:: Unable to track network request while fetch interceptRequest ".concat(e))}return n},e.prototype.handleResponse=function(e,t,n){var r,i,o,a,l,c;try{if(this.getSamplingMode()!==n2.SAMPLING_MODES.NONE){var s=null==(r=this.core)?void 0:r.getConfig().networkRequestTrackingConfiguration,u=s.blocklist,d=null==(a=null==(o=null==(i=this.trackerConfiguration)?void 0:i.configs)?void 0:o.networkRequestTracking)?void 0:a.safelist,f=ee(s.collect,s.block,u,d,e,t);if(s&&s.enabled&&f){var v={status:e.status,statusText:e.statusText||("load"!==n?n:void 0),responseTimestamp:Date.now(),responseTime:performance.now()||Date.now(),headers:(l=e.getAllResponseHeaders(),c={},l.trim().split(/[\r\n]+/).forEach(function(e){var t=(e=e.split(":"))[1];c[e[0].trim()]=null==t?void 0:t.trim()}),c),body:e.response};this.trackerMethods.trackNetworkRequest({requestDetails:t,responseDetails:v})}}}catch(e){ez.warn("Conviva App Tracker:: Unable to track network request error while handleResponse ".concat(e))}},e.prototype.decorateWebSocket=function(){function e(e){n?n.has(e)||(n.add(e),t.addWebSocketEventListeners(e)):e.__convivaWsTag__||(e.__convivaWsTag__=!0,t.addWebSocketEventListeners(e))}var t=this,n="undefined"!=typeof WeakSet?new WeakSet:null,r=WebSocket.prototype.send;WebSocket.prototype.send=function(n){try{"string"==typeof n&&t.handleWebSocketSend(n,this),e(this)}catch(e){ez.warn("Conviva WS tracking error:",e)}return r.apply(this,arguments)};var i=WebSocket;window.WebSocket=function(t,n){return e(t=new i(t,n)),t},window.WebSocket.prototype=i.prototype,Object.assign(window.WebSocket,i)},e.prototype.addWebSocketEventListeners=function(e){var t=this,n=ro;e.addEventListener("message",function(e){return t.handleWebSocketMessage(e)},{signal:n}),e.addEventListener("open",function(e){return t.handleWebSocketOpen(e)},{signal:n}),e.addEventListener("close",function(e){return t.handleWebSocketClose(e)},{signal:n}),e.addEventListener("error",function(e){return t.handleWebSocketError(e)},{signal:n})},e.prototype.handleWebSocketOpen=function(e){try{var t={url:this.getWebSocketUrl(e.target),type:e.type,timestamp:Date.now()}}catch(n){t={data:e.data,url:e.target?this.getWebSocketUrl(e.target):void 0}}this.sendWebSocketEvent("open",t)},e.prototype.handleWebSocketClose=function(e){try{var t={url:this.getWebSocketUrl(e.target),type:e.type,code:e.code,reason:e.reason,wasClean:e.wasClean,timestamp:Date.now()}}catch(n){t={data:e.data,url:e.target?this.getWebSocketUrl(e.target):void 0}}this.sendWebSocketEvent("close",t)},e.prototype.handleWebSocketMessage=function(e){var t;try{(t="string"==typeof e.data?JSON.parse(e.data):e.data).url=this.getWebSocketUrl(e.target)}catch(n){t={data:e.data,url:e.target?this.getWebSocketUrl(e.target):void 0}}this.sendWebSocketEvent("server",t)},e.prototype.handleWebSocketSend=function(e,t){try{var n="string"==typeof e?JSON.parse(e):e,r={url:this.getWebSocketUrl(t),type:n.type}}catch(i){r={url:this.getWebSocketUrl(t)},n={data:e}}this.sendWebSocketEvent("send",r,n)},e.prototype.handleWebSocketError=function(e){var t,n,r,i,o,a,l;try{var c={url:this.getWebSocketUrl(e.target),type:e.type,timestamp:Date.now(),readyState:this.getWebSocketReadyState(e.target),errorMessage:e.message||"WebSocket error occurred",errorType:(null==(t=e.error)?void 0:t.name)||"WebSocketError",errorCode:null==(n=e.error)?void 0:n.code,errorDetails:null==(r=e.error)?void 0:r.message,networkType:(null==(i=null==navigator?void 0:navigator.connection)?void 0:i.type)||"unknown",networkEffectiveType:(null==(o=null==navigator?void 0:navigator.connection)?void 0:o.effectiveType)||"unknown",networkDownlink:null==(a=null==navigator?void 0:navigator.connection)?void 0:a.downlink,networkRtt:null==(l=null==navigator?void 0:navigator.connection)?void 0:l.rtt,userAgent:null==navigator?void 0:navigator.userAgent}}catch(t){c={url:this.getWebSocketUrl(e.target),type:"error",timestamp:Date.now(),error:"Failed to process WebSocket error event: ".concat(t instanceof Error?t.message:String(t)),originalEvent:e}}this.sendWebSocketEvent("error",c)},e.prototype.sendWebSocketEvent=function(e,t,n){var r;void 0===n&&(n={});try{var i=null==(r=this.core.getConfig())?void 0:r.evtStreamTrackingConfiguration;if(null!=i&&i.enabled){var o=this.getSSECountState(t.url),a=em("send"===e?em(em({},t),n):em({},t),{event:e}),l=et(i.collect,i.block,a,t.url);if(null!=l&&l.result){var c=null==l?void 0:l.matchedConfig;if(!0!==(null==c?void 0:c.count)||(o.tokenCount++,null!=l&&l.shouldSend)){var s={url:t.url,id:t.id,type:t.type,event:e};if(!0===(null==c?void 0:c.countReset)&&(0<o.tokenCount&&(s.tokenCount=o.tokenCount),this.resetSSECountState(t.url)),e="send"===e?n:t,i.conditionalCollectAttr&&0<i.conditionalCollectAttr.length){var u=X(e,i.conditionalCollectAttr,t.url,et);0<Object.keys(u).length&&(s=em(em({},s),u))}this.trackerMethods.trackSSEEvent({name:"conviva_ws_message",data:JSON.stringify(s)})}}}}catch(e){}},e.prototype.getWebSocketUrl=function(e){try{return e&&"object"===t(e)&&"url"in e?e.url:void 0}catch(e){}},e.prototype.getWebSocketReadyState=function(e){try{return e&&"object"===t(e)&&"readyState"in e?e.readyState:void 0}catch(e){}},e.prototype.addTraceparentHeader=function(e,t,n){var r=null;return n2.TRACEPARENT_HEADER_KEY in n||(r=this.generateTraceparentHeader(t))&&e.setRequestHeader(n2.TRACEPARENT_HEADER_KEY,r),r},e.prototype.createRequestDetails=function(e,t,n,r,i){return e={method:e,url:t,headers:n,body:r,requestTimestamp:Date.now(),requestTime:performance.now()||Date.now()},i&&(e[n2.TRACEPARENT_HEADER_KEY]=i),e},e.prototype.normalizeUrl=function(e){if(e instanceof URL)return e.href;try{if("undefined"!=typeof document){var t=URL;if(document.baseURI)var n=document.baseURI;else{var r=document.querySelector("base");n=r&&r.href?r.href:document.location.href}return new t(e,n).href}}catch(e){}return e},e.prototype.generateTraceparentHeader=function(e){var t,r,i,o,a,l,c,s,u,d,f,v,g,h,p,m,w,y,b,_,k,C,E;try{if(this.core&&e){var T=this.core.getConfig(),S=n2.CONFIG_PREFERENCES.MERGE,A=[];switch((null==(i=null==(r=null==(t=this.trackerConfiguration)?void 0:t.configs)?void 0:r.traceparentGeneration)?0:i.force)?S=n2.CONFIG_PREFERENCES.APP:(null==(o=null==T?void 0:T.traceparentconfig)?void 0:o.pref)&&(S=T.traceparentconfig.pref),S){case n2.CONFIG_PREFERENCES.APP:if(!1===(null==(c=null==(l=null==(a=this.trackerConfiguration)?void 0:a.configs)?void 0:l.traceparentGeneration)?void 0:c.enabled))return"";A=(null==(d=null==(u=null==(s=this.trackerConfiguration)?void 0:s.configs)?void 0:u.traceparentGeneration)?void 0:d.targetUrl)||[];break;case n2.CONFIG_PREFERENCES.REMOTE:if(!1===(null==(f=null==T?void 0:T.traceparentconfig)?void 0:f.enabled))return"";A=(null==(v=null==T?void 0:T.traceparentconfig)?void 0:v.targetUrl)||[];break;default:if((null==T||!T.traceparentconfig)&&!1===(null==(p=null==(h=null==(g=this.trackerConfiguration)?void 0:g.configs)?void 0:h.traceparentGeneration)?void 0:p.enabled)||(null==(w=null==(m=this.trackerConfiguration)?void 0:m.configs)||!w.traceparentGeneration)&&!1===(null==(y=null==T?void 0:T.traceparentconfig)?void 0:y.enabled))return"";var x=(null==(k=null==(_=null==(b=this.trackerConfiguration)?void 0:b.configs)?void 0:_.traceparentGeneration)?void 0:k.targetUrl)||[],I=(null==(C=null==T?void 0:T.traceparentconfig)?void 0:C.targetUrl)||[],R=new Set(n(n([],I,!0),x,!0));A=Array.from(R)}if(0<A.length&&(A.includes("*")||A.some(function(t){return 0<(null==t?void 0:t.length)&&e.toLowerCase().includes(t.toLowerCase())}))&&(null==(E=null==T?void 0:T.networkRequestTrackingConfiguration)?0:E.enabled)){var N=Array.from({length:32},function(){return Math.floor(16*Math.random()).toString(16)}).join(""),O=Array.from({length:16},function(){return Math.floor(16*Math.random()).toString(16)}).join("");return"00-".concat(N,"-").concat(O,"-00")}}}catch(e){console.warn("Conviva App Tracker:: Unable to generate traceparent header ".concat(e))}return""},e.prototype.updateSSETrackingConfig=function(e){r$=em(em({},r$),e)},e.prototype.getSSETrackingConfig=function(){return em({},r$)},e.prototype.processSSEEvent=function(e,t){var n,r;try{if("ping"!==e.event){var i=e.data;try{i=JSON.parse(e.data)}catch(e){}var o={url:t,id:e.id,event:null!=(n=e.event)?n:"message",data:i},a=null==(r=this.core.getConfig())?void 0:r.evtStreamTrackingConfiguration;if(null!=a&&a.enabled){var l=this.getSSECountState(t),c=et(a.collect,a.block,o,t);if(null!=c&&c.result){var s=null==c?void 0:c.matchedConfig;if(!0!==(null==s?void 0:s.count)||(l.tokenCount++,null!=c&&c.shouldSend)){var u={url:o.url,id:o.id,event:o.event};if(!0===(null==s?void 0:s.countReset)&&(0<l.tokenCount&&(u.tokenCount=l.tokenCount),this.resetSSECountState(t)),a.conditionalCollectAttr&&0<a.conditionalCollectAttr.length){var d=X(o,a.conditionalCollectAttr,t,et);0<Object.keys(d).length&&(u=em(em({},u),d))}this.trackerMethods.trackSSEEvent({name:"conviva_sse_message",data:JSON.stringify(u)})}}}}}catch(e){}},e.prototype.getSSECountState=function(e){return this.sseCountStates.has(e)||this.sseCountStates.set(e,{tokenCount:0}),this.sseCountStates.get(e)},e.prototype.resetSSECountState=function(e){this.sseCountStates.set(e,{tokenCount:0})},e.prototype.cleanupSSECountState=function(e){this.sseCountStates.delete(e)},e}(),r1=function(){function e(e,t,n,r,i){void 0===e&&(e=20),void 0===t&&(t=2e3),void 0===n&&(n=1e3),this.eventMaxLimit=e,this.cooldown=t,this.windowStart=Date.now(),this.circuitBreakerUntil=this.eventCount=0,this.breakerPreviouslyOpen=!1,this.droppedCount=0,this.trackerCore=r,this.timeWindow=n,this.getSamplingMode=i}return e.prototype.isAllowedToSendEvent=function(){var e=Date.now();return e<this.circuitBreakerUntil?(this.droppedCount++,!1):(this.breakerPreviouslyOpen&&(this.breakerPreviouslyOpen=!1,el(this.trackerCore,this.getSamplingMode,{message:"Application Error",className:"errorRateLimiter - isAllowedToSendEvent",extraData:{droppedCount:this.droppedCount},configAppliedSrc:rx,configAppliedTime:rI}),this.droppedCount=0),e-this.windowStart<this.timeWindow?this.eventCount++:(this.windowStart=e,this.eventCount=1),!(this.eventCount>this.eventMaxLimit)||(this.circuitBreakerUntil=e+this.cooldown,this.breakerPreviouslyOpen=!0,this.droppedCount++,!1))},e.prototype.updateErrortRateLimitConfig=function(e,t,n){this.eventMaxLimit=e,this.cooldown=t,this.timeWindow=n},e}(),r2=function(e,t){return e.length>t?"".concat(e.slice(0,t-3),"..."):e};(ep=rF||(rF={}))[ep.APP=0]="APP",ep[ep.REMOTE=1]="REMOTE",ep[ep.MERGE=2]="MERGE";var r6={},r5=function(){this.outQueues=[],this.bufferFlushers=[],this.hasLoaded=!1,this.registeredOnLoadHandlers=[]};e.cleanup=function(e){eh(e,function(e){e.clearTimers()});if(e)for(var t=0;t<e.length;t++){var n=e[t];r6.hasOwnProperty(n)?delete r6[n]:ez.warn(n+" not configured")}},e.convivaAppTracker=function(e){void 0===e&&(e={});try{var r,o,a,c,s,u,d="undefined"!=typeof window?function(){function e(){var e;if(!t.hasLoaded)for(t.hasLoaded=!0,e=0;e<t.registeredOnLoadHandlers.length;e++)t.registeredOnLoadHandlers[e]();return!0}var t=new r5,n=document,r=window;return z(r,"beforeunload",function(){try{t.bufferFlushers.forEach(function(e){e(!1)})}catch(e){console.warn("Conviva App Tracker:: Error in flushBuffers of constructor ".concat(e))}},!1),"loading"===document.readyState?(n.addEventListener?n.addEventListener("DOMContentLoaded",function t(){n.removeEventListener("DOMContentLoaded",t,!1),e()}):n.attachEvent&&n.attachEvent("onreadystatechange",function t(){"complete"===n.readyState&&(n.detachEvent("onreadystatechange",t),e())}),z(r,"load",e,!1)):e(),t}():void 0;if(d)return r=e.trackerVersionSuffix?"js-".concat("1.3.2"," ").concat(e.trackerVersionSuffix):"js-".concat("1.3.2"),o=e,r6.hasOwnProperty("CAT")?null:(r6.CAT=(a="CAT",c=o,void 0===c&&(c={}),s=[],a=function(e,r,o,a,c){function d(){(ts=Y(window.location.hostname,window.location.href,U()))[1]!==td&&(tf=U(td)),tu=P(ts[0]),td=ts[1]}function f(e){try{var t=(new Date).getTime(),n=e.currentTarget;if(null==n?0:n.href){e="_cnv="+tr+"."+t;var r=n.href.split("#"),i=r[0].split("?"),o=i.shift(),a=i.join("?");if(a){i=!0;var l=a.split("&");for(t=0;t<l.length;t++)if("_cnv="===l[t].substr(0,5)){i=!1,l[t]=e,a=l.join("&");break}i&&(a=e+"&"+a)}else a=e;r[0]=o+"?"+a,n.href=r.join("#")}}catch(e){console.warn("Conviva App Tracker:: Error in linkDecorationHandler of decorateLinks ".concat(e))}}function v(e){if("undefined"!=typeof document&&document.links&&0<document.links.length)for(var t=0;t<document.links.length;t++){var n=document.links[t];!n.spDecorationEnabled&&e(n)&&(z(n,"click",f,!0),z(n,"mousedown",f,!0),n.spDecorationEnabled=!0)}}function g(e){var t;return e2&&(t=/#.*/,e=e.replace(t,"")),e6&&(t=/[{}]/g,e=e.replace(t,"")),e}function h(e){return(e=/^([a-z]+):/.exec(e))?e[1]:null}function p(e){if(e=tC+e+"."+tn,"localStorage"==tD)try{var t=window.localStorage,n=t.getItem(e+".expires"),r=null===n||+n>Date.now()?t.getItem(e):(t.removeItem(e),void t.removeItem(e+".expires"))}catch(e){r=void 0}else r="cookie"==tD||"cookieAndLocalStorage"==tD?F(e):void 0;return r}function m(){d(),tn=eF((tE||tu)+(tT||"/")).slice(0,4)}function w(){e8=(new Date).getTime()}function y(){var e=b(),t=e[0];t<e9?e9=t:t>e7&&(e7=t),(e=e[1])<te?te=e:e>tt&&(tt=e),w()}function b(){var e="undefined"!=typeof document?null==document?void 0:document.documentElement:void 0;return e?[e.scrollLeft||window.pageXOffset,e.scrollTop||window.pageYOffset]:[0,0]}function E(){var e=b();e7=e9=e[0],tt=te=e[1]}function T(){A(tC+"ses."+tn,"*",tN)}function S(e){var t=tC+"id."+tn;e.shift(),A(t,e=e.join("."),tR)}function A(e,t,n){tM&&!tO||("localStorage"==tD?q(e,t,n):"cookie"!=tD&&"cookieAndLocalStorage"!=tD||F(e,t,n,tT,tE,tS,tA))}function x(e){var t=tC+"id."+tn,n=tC+"ses."+tn;B(t),B(n),H(t,tE,tS,tA),H(n,tE,tS,tA),(null==e?0:e.preserveSession)||(ti=eL.v4(),tz=1),(null==e?0:e.preserveUser)||(tr=eL.v4(),to=null)}function I(e){e&&e.stateStorageStrategy&&(c.stateStorageStrategy=e.stateStorageStrategy,tD=eb(c)),tM=!!c.anonymousTracking,tO=e_(c),tL=ek(c),tG.setUseLocalStorage("localStorage"==tD||"cookieAndLocalStorage"==tD),tG.setAnonymousTracking(tL)}function R(){if(function(){var e;try{var t=null;if(null==(e=null==c?void 0:c.configs)?0:e.enableClIdInCookies){var n=function(e){try{var t=F(e);return t&&0<t.length?t:window.localStorage.getItem(e)}catch(e){return ez.warn("getConvivaCookie",e),null}}("Conviva_sdkConfig");n&&(t=n)}else try{H("Conviva_sdkConfig",et(),"None",!0)}catch(e){}t||(t=window.localStorage.getItem("Conviva.sdkConfig"));var r=JSON.parse(t||"{}");"{}"===r||void 0===r?e3=en():(e3=r.clId||en(),0x80000000<=tP?tP=-1:tP++),e4=function(){try{return Math.floor(0x7fffffff*Math.random())}catch(e){return console.warn(e),-1}}(),function(e){var t;try{var n=null;try{n=JSON.stringify(e)}catch(e){return}if(window.localStorage.setItem("Conviva.sdkConfig",n),null==(t=null==c?void 0:c.configs)?void 0:t.enableClIdInCookies)try{F("Conviva_sdkConfig",n,void 0,"/",et(),"None",!0)}catch(e){ez.warn("setConvivaCookie",e)}}catch(e){}}(em(em({},r),{clId:e3,iid:e4}))}catch(e){return void ez.warn("getEventIndexByClid",e)}}(),!tM||tO){var e,t,n="none"!=tD&&!!p("ses"),r=N();e=tM,r[1]?t=r[1]:(t=e?"":eL.v4(),r[1]=t),tr=t,ti=n?r[6]:Q(r),tz=r[3],"none"!=tD&&(T(),Z(r),S(r))}}function N(){var e,t,n,r,i,o,a;return"none"==tD?["1","",0,0,0,void 0,"","","",void 0]:(e=p("id")||void 0,t=tr,n=ti,r=tz,o=Math.round((new Date).getTime()/1e3),e?(i=e.split(".")).unshift("0"):i=["1",t,o,r,o,"",n],i[6]&&"undefined"!==i[6]||(i[6]=eL.v4()),i[7]&&"undefined"!==i[7]||(i[7]=""),i[8]&&"undefined"!==i[8]||(i[8]=""),i[9]&&"undefined"!==i[9]||(i[9]=""),i[10]&&"undefined"!==i[10]||(i[10]=-1),a=function(e,t){return isNaN(e=parseInt(e))?t:e},e=function(e){return e?a(e,void 0):void 0},[i[0],i[1],a(i[2],o),a(i[3],r),a(i[4],o),e(i[5]),i[6],i[7],i[8],e(i[9])])}function K(e,t){var n,r,i,o,a=!0,l=tc.getConfig();return void 0!==l.mend?a=l.mend:void 0!==(null==(r=null==(n=null==c?void 0:c.configs)?void 0:n.network)?void 0:r.mergeEndpoint)&&(a=null==(o=null==(i=null==c?void 0:c.configs)?void 0:i.network)?void 0:o.mergeEndpoint),0===e.indexOf("http")?(t&&a&&(e=e.replace(/^(https?:\/\/)(.*)$/,"$1"+t+".$2")),e):t&&a?("https:"===document.location.protocol?"https":"http")+"://"+t+"."+e:("https:"===document.location.protocol?"https":"http")+"://"+e}function X(){tq&&null!=a.pageViewId||(a.pageViewId=eL.v4())}function ee(){return null==a.pageViewId&&(a.pageViewId=eL.v4()),a.pageViewId}function et(){var e=window.location.hostname,t=e.split(".");return 2<=t.length?"."+t.slice(-2).join("."):e}function en(){try{return ei({"First Launch":"Yes"}),Math.floor(0x7fffffff*Math.random()).toString()+"."+Math.floor(0x7fffffff*Math.random()).toString()+"."+Math.floor(0x7fffffff*Math.random()).toString()+"."+Math.floor(0x7fffffff*Math.random()).toString()}catch(e){return void console.warn(e)}}function er(e){try{return"object"===t(JSON.parse(e))}catch(e){return!1}}function ei(e){try{var n=Object.keys(e);er(JSON.stringify(e))?n.forEach(function(n){if(""!==n.trim()){var r=e[n];r&&""!==r&&(r="object"===t(r)?JSON.stringify(r):""+r,Object.defineProperty(ty,n,{value:r,writable:!0,enumerable:!0,configurable:!0}))}}):console.warn("Conviva AppTracker:: Invalid JSON Format")}catch(e){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",e)}}function eo(e){try{e.forEach(function(e){delete ty[e]})}catch(e){console.warn("Conviva AppTracker:: Failed to unset Custom tag(s). Check format of keys set.")}}function ea(e){var t=e.minimumVisitLength,n=e.heartbeatDelay;if(e=e.callback,L(t)&&L(n))return{configMinimumVisitLength:1e3*t,configHeartBeatTimer:1e3*n,callback:e};ez.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function ec(e){var t=e.context,n=e.minXOffset,r=e.minYOffset,o=e.maxXOffset,a=e.maxYOffset;if((e=document.title)!==t_&&(t_=e,e1=void 0),tl()!==n2.SAMPLING_MODES.NONE){es();var l=(e=tc).track,c=g(e0||td),s=M(e1||t_),u=g(e$||tf);n=Math.round(n),o=Math.round(o),r=Math.round(r),a=Math.round(a);var d=i();d.add("e","pp"),d.add("url",c),d.add("page",s),d.add("refr",u),n&&!isNaN(Number(n))&&d.add("pp_mix",n.toString()),o&&!isNaN(Number(o))&&d.add("pp_max",o.toString()),r&&!isNaN(Number(r))&&d.add("pp_miy",r.toString()),a&&!isNaN(Number(a))&&d.add("pp_may",a.toString()),c=d,l.call(e,c,t)}}function es(){var e,n,r=null==(n=null==u?void 0:u.core)?void 0:n.getConfig().pageUrlTrackingConfig;if(n=ty[n2.PAGE_URL_QUERY_PARAMS],r){var i={targetUrl:g(e0||td),rqq:{}};i=J(i,null==r?void 0:r.collectattr,null,null==r?void 0:r.maxQueryLength),(!n&&i.rqq||n!==JSON.stringify(i.rqq))&&(eo([n2.PAGE_URL_QUERY_PARAMS]),function(e){try{var n=Object.keys(e);er(JSON.stringify(e))?n.forEach(function(n){if(""!==n.trim()){var r=e[n];r&&""!==r&&("object"===t(r)||(r=""+r),Object.defineProperty(ty,n,{value:r,writable:!0,enumerable:!0,configurable:!0}))}}):console.warn("Conviva AppTracker:: Invalid JSON Format")}catch(e){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",e)}}(((e={})[n2.PAGE_URL_QUERY_PARAMS]=i.rqq,e)))}else n&&eo([n2.PAGE_URL_QUERY_PARAMS])}if(window&&window.localStorage){var eu=window.localStorage,eh={sensorVersion:o,ck:null!=(eD=c.convivaCustomerKey)?eD:""};eh=JSON.stringify(eh),eh="function"==typeof btoa?btoa(eh):function(e){e=unescape(encodeURIComponent(e));for(var t="",n=0;n<e.length;){var r=e.charCodeAt(n++),i=e.charCodeAt(n++),o=e.charCodeAt(n++),a=r>>2;r=(3&r)<<4|i>>4,i=isNaN(i)?64:(15&i)<<2|o>>6,o=isNaN(o)?64:63&o,t+=eM.charAt(a)+eM.charAt(r)+eM.charAt(i)+eM.charAt(o)}return t}(eh),eu.setItem(n2.VISUAL_LABELLING_CONFIG,eh)}var ep=n6,ew=ro;ep&&ew||("function"==typeof AbortController&&(n6=new AbortController),ro=null==n6?void 0:n6.signal),r||(r="CAT");var ey=function(e,t,n){var r,i,o,a,l,c={},s={};if("undefined"!=typeof window&&(null==window?0:window.localStorage))try{localStorage.removeItem(n2.END_POINT_STORAGE_KEY),(l=localStorage.getItem(n2.REMOTE_CONFIG_STORAGE_KEY))?rx=n2.CONFIG_SOURCE.CACHED:l=JSON.stringify(s)}catch(e){l=JSON.stringify(s),rX=!0;var u={className:"fetchRemoteConfig - localstorage",error:e,configAppliedSrc:rx,configAppliedTime:rI};setTimeout(function(){el(rf,null==rq?void 0:rq.getSamplingMode,u)},0),ez.warn("Issue while fetching data from local storage")}else l=JSON.stringify(s);try{c=JSON.parse(l)}catch(e){rX=!0;var d={className:"fetchRemoteConfig - parsing cached data",error:e,configAppliedSrc:rx,configAppliedTime:rI};setTimeout(function(){el(rf,null==rq?void 0:rq.getSamplingMode,d)},0),ez.warn("Issue while parsing storedConvivaRemoteConfig")}s=(new rV).setBase64(null==c?void 0:c.base64).setCacheRefreshInterval(null==c?void 0:c.cacheRefreshInterval).setLifecycleAutotracking(null==c?void 0:c.lifecycleAutotracking).setExceptionAutotracking(null==c?void 0:c.exceptionAutotracking).setEnablePeriodicHeartbeat(null==c?void 0:c.enablePeriodicHeartbeat).setPeriodicHeartbeatInterval(null==c?void 0:c.periodicHeartbeatInterval).setEnc(null==c?void 0:c.enc,null==(i=null==(r=null==n?void 0:n.configs)?void 0:r.network)?void 0:i.encoding).setMaxLocalStorageQueueSize(null==c?void 0:c.maxLocalStorageQueueSize).setMaxGetBytes(null==c?void 0:c.maxGetBytes).setBufferSize(null==c?void 0:c.bufferSize).setCustomEventTrackingConfiguration(null==c?void 0:c.customEventTrackingConfiguration).setEndPoint(null==c?void 0:c.endpoint,n.gatewayUrl,n.proxyGatewayUrl).setNetworkRequestTrackingConfiguration(null==c?void 0:c.networkRequestTrackingConfiguration,!1).setMetaTagsTrackingConfiguration(null==c?void 0:c.metaTagsTrackingConfiguration).setTraceparentconfig(null==c?void 0:c.traceparentconfig).setMend(null==c?void 0:c.mend,null==(a=null==(o=null==n?void 0:n.configs)?void 0:o.network)?void 0:a.mergeEndpoint).setPerformanceContextConfig(null==c?void 0:c.performanceContextConfig).setConfigurationVersion(null==c?void 0:c.configurationVersion).setCatRcLastUpdatedTs(null==c?void 0:c.catRcLastUpdatedTs).setEmitterConfiguration(null==c?void 0:c.emitterConfiguration).setcontrolIngestConfig(null==c?void 0:c.controlIngestConfig).setApplicationContext(null==c?void 0:c.applicationContext).setDi(null==c?void 0:c.di).setClickcc(null==c?void 0:c.clickcc).setCollectionRateLimit(null==c?void 0:c.collectionRateLimit).setPageUrlTrackingConfig(null==c?void 0:c.pageUrlTrackingConfig).setEvtStreamTrackingConfiguration(null==c?void 0:c.evtStreamTrackingConfiguration).build(),r="Cached Config Applied",rx===n2.CONFIG_SOURCE.DEFAULT&&(r="Default Config Applied"),rI=(new Date).getTime();var f={message:r,className:"browserTrackerCore",configAppliedSrc:rx,configAppliedTime:rI};setTimeout(function(){el(rf,null==rq?void 0:rq.getSamplingMode,f)},0),e=e.split("js-")[1].split(" ")[0];var v=(n.proxyGatewayUrl?n.proxyGatewayUrl+"/js/":n2.REMOTE_CONFIG_URL_PREFIX)+n.convivaCustomerKey+"/"+e+n2.REMOTE_CONFIG_FILE_NAME;return window.XMLHttpRequest&&((rG=new XMLHttpRequest).onreadystatechange=function(){var e;try{if(4==rG.readyState)if(rW=!1,200==rG.status){var r={message:"Remote config request is successful - ".concat("number"==typeof rG.status?rG.status:""),className:"configtimerCallback - onreadystatechange",configAppliedSrc:rx,configAppliedTime:rI};el(rf,null==rq?void 0:rq.getSamplingMode,r),rJ=0;var i=JSON.parse(rG.response);if(r=rf,(null==i?void 0:i.configurationBundle[0].namespace)!==t)return void el(rf,null==rq?void 0:rq.getSamplingMode,{message:"Remote Config not Applied due to a missing namespace",className:"updateRemoteConfig",configAppliedSrc:rx,configAppliedTime:rI});if(!i.hasOwnProperty("configurationVersion")||(null==(e=r.getConfig())?void 0:e.configurationVersion)===(null==i?void 0:i.configurationVersion)){var o=localStorage.getItem(n2.REMOTE_CONFIG_STORAGE_KEY);if(o)return(o=JSON.parse(o)).catRcLastUpdatedTs=(new Date).getTime(),window.localStorage&&(localStorage.removeItem(n2.REMOTE_CONFIG_STORAGE_KEY),localStorage.setItem(n2.REMOTE_CONFIG_STORAGE_KEY,JSON.stringify(o))),void el(rf,null==rq?void 0:rq.getSamplingMode,{message:"Remote Config not Applied as same version is fetched",className:"updateRemoteConfig",configAppliedSrc:rx,configAppliedTime:rI})}s.catRcLastUpdatedTs=(new Date).getTime();var a=i.cri||i.cacheRefreshInterval||rv.cacheRefreshInterval;if(a=1>a?rv.cacheRefreshInterval:L(a)?a:rv.cacheRefreshInterval,s.cacheRefreshInterval!=a&&(s.cacheRefreshInterval=a,rY(s.cacheRefreshInterval,s.catRcLastUpdatedTs,n,v,n2.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER)),rZ(i,s.catRcLastUpdatedTs,n)){var l=new Event("RemoteConfigUpdateApplied");(null==window?0:window.dispatchEvent)&&window.dispatchEvent(l)}}else try{2>rJ&&window.setTimeout(function(){(null==n?0:n.trackerConfigUrl)?rQ(null==n?void 0:n.trackerConfigUrl,!0):rQ(v,!0)},5e3*(rJ+1));var c={message:"Remote config request is not successful - ".concat("number"==typeof rG.status?rG.status:""),className:"configtimerCallback - onreadystatechange",configAppliedSrc:rx,configAppliedTime:rI};el(rf,null==rq?void 0:rq.getSamplingMode,c),2<=rJ&&el(rf,null==rq?void 0:rq.getSamplingMode,{message:"Remote config is not applied since failed to download remote config after 3 tries",className:"configtimerCallback - onreadystatechange",configAppliedSrc:rx,configAppliedTime:rI})}catch(e){}}catch(e){rW=!1,console.warn("Conviva App Tracker:: Error in fetching remote-config ".concat(e)),el(rf,null==rq?void 0:rq.getSamplingMode,{className:"configtimerCallback - onreadystatechange",error:e,configAppliedSrc:rx,configAppliedTime:rI})}},rY(s.cacheRefreshInterval,s.catRcLastUpdatedTs,n,v,void 0!==rX&&!0===rX?n2.RC_FETCH_MODE.IMMEDIATE_FETCH:n2.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF)),{convivaRemoteTrackerConfig:s}}(o,r,c).convivaRemoteTrackerConfig;null==(eP=$(ey.performanceContextConfig))||eP.activateLCPObserver(),c.eventMethod=null!=(eU=c.eventMethod)?eU:"post";var eb=function(e){var t;return null!=(t=e.stateStorageStrategy)?t:"cookieAndLocalStorage"},e_=function(e){var t,n;return"boolean"!=typeof e.anonymousTracking&&(n=!0===(null==(t=e.anonymousTracking)?void 0:t.withSessionTracking),!0)&&void 0!==n&&n},ek=function(e){var t,n;return"boolean"!=typeof e.anonymousTracking&&(n=!0===(null==(t=e.anonymousTracking)?void 0:t.withServerAnonymisation),!0)&&void 0!==n&&n};s.push({beforeTrack:function(e){var t,n=p("ses"),r=N();(ta=!!e5&&!!F(e5),tI||ta)?x():("0"===r[0]?(ti=n||"none"==tD?r[6]:Q(r),tz=r[3]):(new Date).getTime()-tU>1e3*tN&&(ti=Q(r,++tz)),Z(r),e.add("uid",(t=to,tM?null:t)),d(),e.add("refr",g(e$||tf)),document&&(t_=document.title,n=M(e1||t_),e.add("page",n)),e.add("url",g(e0||td)),"none"!=tD&&(S(r),T()),tU=(new Date).getTime())}}),s.push({contexts:function(){return[{sc:"cv/clid/1-0-2",dt:{clid:e3,iid:e4.toString(),ck:tm,eventIndex:tP++}}]}}),s.push({contexts:function(){return[{sc:"cv/ct/1-0-0",dt:{data:em(em({},ty),tb)}}]}}),s.push({contexts:function(){var e,t=null==(e=null==u?void 0:u.core)?void 0:e.getConfig();return!0===(null==t?void 0:t.applicationContext)?[{sc:"spm/app/1-0-0",dt:{build:tw,version:tw}}]:[]}}),s.push({contexts:function(){var e={sch:"sdk.js.eco.1"};e.cat=n3.WEB;try{var t=null==c?void 0:c.deviceMetadata;if(t){var n=t.DeviceBrand,r=t.DeviceCategory,i=t.DeviceManufacturer,o=t.DeviceModel,a=t.DeviceType,l=t.DeviceVersion,s=t.OperatingSystemName,u=t.OperatingSystemVersion,d=t.FrameworkName,f=t.FrameworkVersion;"string"==typeof r&&Object.values(n3).includes(r)?e.cat=r:e.cat="INVALID"+(r?": ".concat(r):""),"string"==typeof n&&""!=n&&(e.dvb=n),"string"==typeof i&&""!=i&&(e.dvma=i),"string"==typeof o&&""!=o&&(e.dvm=o),a&&Object.values(n5).includes(a)&&(e.dvt=a),"string"==typeof l&&""!=l&&(e.dvv=l),"string"==typeof s&&""!=s&&(e.os=s),"string"==typeof u&&""!=u&&(e.osv=u),"string"==typeof d&&""!=d&&(e.fw=d),"string"==typeof f&&""!=f&&(e.fwv=f)}}catch(e){ez.warn("error in setting platform metadata context",e)}return null!=e&&0<Object.keys(e).length?[{sc:"iglu:com.conviva/pm/jsonschema/1-0-2",dt:e}]:[]}});try{(null!=(eG=null==c?void 0:c.plugins)?eG:[]).forEach(function(e){e.contexts||s.push(e)})}catch(e){console.warn("ConvivaAppTracker : issue while processing customer passed pligins",e)}var eC,eE,eT,eS,eA,ex,eI,eR,eN,eO,eD,eP,eU,eG,eq,eB,eH,ej,eV,eW,eK,eJ,eX,eY,eQ,eZ,e$,e0,e1,e2,e6,e5,e3,e4,e8,e9,e7,te,tt,tn,tr,ti,to,ta,tl=function(){var e;try{var t=null==(e=null==u?void 0:u.core)?void 0:e.getConfig();return t?void 0===t.catRcLastUpdatedTs||0===t.catRcLastUpdatedTs?n2.SAMPLING_MODES.RCFG:t.controlIngestConfig?function(e){try{if(void 0===e.sel)return V(),n2.SAMPLING_MODES.RCFG;var t=e.sel.pct;if("number"==typeof t&&100>t&&0<t&&0==t%1){if("undefined"!=typeof window&&void 0!==window.localStorage){var n=localStorage.getItem(n2.SAMPLING_STORAGE_RANDOM_NUMBER_KEY);if(null!=n)return parseFloat(n)<=t?W(e,n2.SAMPLING_ACTION.SAMPLED):W(e,n2.SAMPLING_ACTION.NON_SAMPLED);var r=100*Math.random();return localStorage.setItem(n2.SAMPLING_STORAGE_RANDOM_NUMBER_KEY,r.toString()),W(e,r<t?n2.SAMPLING_ACTION.SAMPLED:n2.SAMPLING_ACTION.NON_SAMPLED)}return n2.SAMPLING_MODES.NONE}return"number"==typeof t&&0===t?(V(),n2.SAMPLING_MODES.NONE):(V(),n2.SAMPLING_MODES.RCFG)}catch(e){}return n2.SAMPLING_MODES.RCFG}(null==t?void 0:t.controlIngestConfig):n2.SAMPLING_MODES.RCFG:n2.SAMPLING_MODES.RCFG}catch(e){return ez.error("Error while getting sampling mode"),n2.SAMPLING_MODES.RCFG}},tc=rm(ey,s,function(e){var n,r,i,o,a,l,c,s;tI||ta||tG.enqueueRequest(e.build(),tg,(n=e,a=null!=(o=null==(i=null==(r=tc.getConfig().emitterConfiguration)?void 0:r.batching)?void 0:i.urgentEvents)?o:[],l=r="",c="",s="","string"==typeof(i=n.getPayload()).e&&(s=i.e),("ue"===s||"pv"===s||"pp"===s)&&(void 0!==(n=n.getJson().find(function(e){return"ue_pr"===e.keyIfNotEncoded||"ue_px"===e.keyIfEncoded}))&&(n=n.json,"object"===t(n.dt)&&null!==n.dt&&("string"==typeof(n=n.dt).sc&&(r=n.sc),"object"===t(n.dt)&&"string"==typeof n.dt.name&&(l=n.dt.name)),c=r.split("/")[1]||""),a.some(function(e){return""!==(e=e.toLowerCase())&&(e===s.toLowerCase()||e===c.toLowerCase()||e===l.toLowerCase())}))))}),ts=Y(window.location.hostname,window.location.href,U()),tu=P(ts[0]),td=ts[1],tf=ts[2],tv=null!=(eq=c.platform)?eq:"web",tg=K(ey.endpoint,c.convivaCustomerKey),th=null!=(eB=c.postPath)?eB:"/ctp",tp=null!=(eH=c.appId)?eH:"",tm=null!=(ej=c.convivaCustomerKey)?ej:"",tw=null!=(eV=c.appVersion)?eV:"",ty={},tb={},t_="undefined"!=typeof document?document.title:void 0,tk=null==(eW=c.resetActivityTrackingOnPageView)||eW,tC=null!=(eK=c.cookieName)?eK:"_cnv_",tE=null!=(eJ=c.cookieDomain)?eJ:void 0,tT="/",tS=null!=(eX=c.cookieSameSite)?eX:"None",tA=null==(eY=c.cookieSecure)||eY,tx=navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack,tI=void 0!==c.respectDoNotTrack&&c.respectDoNotTrack&&("yes"===tx||"1"===tx),tR=null!=(eQ=c.cookieLifetime)?eQ:63072e3,tN=null!=(eZ=c.sessionCookieTimeout)?eZ:1800,tO=e_(c),tL=ek(c),tM=!!c.anonymousTracking,tD=eb(c),tP=-1,tU=(new Date).getTime(),tz=1,tG=(eC=tD,eE=tL,eI=rf,eR=function(){var e=eI.getConfig();return!e.emitterConfiguration||!e.emitterConfiguration.batching||e.emitterConfiguration.batching.enabled},function(e,n,r,i,o,a,l,c,s,u,d,f,v,g,h,p,m,w,y){function b(e){var t=Object.keys(e).map(function(t){return[t,e[t]]}).reduce(function(e,t){return e[t[0]]=t[1].toString(),e},{});return{evt:t,bytes:_(JSON.stringify(t))}}function _(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);127>=r?t+=1:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,n++):t+=65535>r?3:4}return t}function k(e,t){t=T(t,!0,!1),e=S(A([e.evt]));try{h().toLowerCase()!==rd.NONE&&(e=n0(e,{level:6}),t.setRequestHeader("Content-Encoding",rd.GZIP))}catch(e){}y()!==n2.SAMPLING_MODES.NONE&&t.send(e)}function C(e){try{if("undefined"!=typeof window&&void 0!==window.__CONVIVA_VISUAL_ACTIVATION_EXTENSION__&&"function"==typeof window.__CONVIVA_VISUAL_ACTIVATION_EXTENSION__.postMessage){var t=S(A(e));window.__CONVIVA_VISUAL_ACTIVATION_EXTENSION__.postMessage(t)}}catch(e){ez.warn("Error occured while sending message to Visual Labelling Extension",e)}}function E(e){for(void 0===e&&(e=!1);P.length&&"string"!=typeof P[0]&&"object"!==t(P[0]);)P.shift();if(1>P.length)D=!1;else{if(!O(L))throw"No collector configured";if(D=!0,window.clearTimeout(U),U=-1,B){var n,i=void 0,o=void 0;"object"===t(P[0])?(n=T(i=L,!0,e),o=function(e){for(var t=0,n=0;t<e.length&&!((n+=e[t].bytes)>=m());)t+=1;return t}(P)):(n=T(i=x(P[0]),!1,e),o=1);var a=setTimeout(function(){n.abort(),D=!1},u);if(n.onreadystatechange=function(){4===n.readyState&&(clearTimeout(a),200<=n.status&&300>n.status?E():(ez.error("Status ".concat(n.status,", will not retry.")),D=!1))},"object"===t(P[0])){var l=P.slice(0,o);if(0<l.length){if(e=!1,l=l.map(function(e){return e.evt}),G){var c=new Blob([S(A(l))],{type:"application/json"});try{e=navigator.sendBeacon(i,c)}catch(t){e=!1}}if(!0===e)E();else{i=S(A(l));try{h().toLowerCase()!==rd.NONE&&(i=n0(i,{level:6}),n.setRequestHeader("Content-Encoding",rd.GZIP))}catch(e){}try{y()!==n2.SAMPLING_MODES.NONE&&n.send(i)}catch(e){}}}}else n.send();for(var f=o,v=0;v<f;v++)P.shift();r&&q(V,JSON.stringify(P.slice(-1*s())))}else if(d||"object"===t(P[0]))D=!1;else{o=new Image(1,1);var g=!0;o.onload=function(){g&&(g=!1,P.shift(),r&&q(V,JSON.stringify(P.slice(-1*s()))),E())},o.onerror=function(){g&&(g=!1,D=!1)},o.src=x(P[0]),setTimeout(function(){g&&D&&(g=!1,E())},u)}}}function T(e,t,n){var r,i=new XMLHttpRequest;for(r in t?(i.open("POST",e,!n),i.setRequestHeader("Content-Type","application/json; charset=UTF-8")):i.open("GET",e,!n),i.withCredentials=v,d&&i.setRequestHeader("SP-Anonymous","*"),f)Object.prototype.hasOwnProperty.call(f,r)&&i.setRequestHeader(r,f[r]);return i}function S(e){return JSON.stringify({sc:"sp/pd/1-0-4",dt:e})}function A(e){for(var t=(new Date).getTime().toString(),n=0;n<e.length;n++)e[n].stm=t;return e}function x(e){return c?L+e.replace("?","?stm="+(new Date).getTime()+"&"):L+e}(null==window?0:window.addEventListener)&&window.addEventListener("RemoteConfigUpdateApplied",function(){E()},{signal:ro});var I,R,N,L,M,D=!1,P=[],U=-1,z=!0===(i="string"==typeof i?i.toLowerCase():i)||"beacon"===i||"true"===i,G=!(!(z&&window.navigator&&window.navigator.sendBeacon)||!(!(I=(I=M=window.navigator.userAgent).match(/\(iP.+; CPU .*OS (\d+)[_\d]*.*\) AppleWebKit\//))||!I.length)&&13>=parseInt(I[0])||!(!(R=(R=M).match("(Macintosh;.*Mac OS X (\\d+)_(\\d+)[_\\d]*.*) AppleWebKit/"))||!R.length)&&(10>=parseInt(R[2])||10===parseInt(R[2])&&15>=parseInt(R[3]))&&(N=M,/^(?!.*Chrome)(?!.*Chromium)(?!.*Edg)(?!.*OPR)(?=.*Safari)/.test(N)&&!/(Chrome|Chromium|Edg|OPR)/.test(N)))&&z,B=!!(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),H="get"!==i&&B&&("post"===i||z),F=H?o:"/i";i="convivaOutQueue_".concat(e,"_").concat(H?"post2":"get");var V="convivaOutQueue_".concat(e,"_").concat(H?"post2":"get");if(j(i),j("".concat(i,".expires")),z&&(f={}),a=r&&function(){try{var e=!!window.localStorage}catch(t){e=!0}if(!e)return!1;try{var t=window.localStorage;return t.setItem("modernizr","modernizr"),t.removeItem("modernizr"),!0}catch(e){return!1}}()&&H&&a||1,r)try{var W=window.localStorage.getItem(V);P=W?JSON.parse(W):[]}catch(e){}return Array.isArray(P)||(P=[]),n.outQueues.push(P),B&&1<a&&n.bufferFlushers.push(function(e){D||E(e)}),{enqueueRequest:function(e,t,n){if(y()!=n2.SAMPLING_MODES.NONE){if(L=t+F,H){if(C([(e=b(e)).evt]),t=m(),e.bytes>=t)return D||E(),ez.warn("Event ("+e.bytes+"B) too big, max is "+t),void k(e,L);P.push(e)}else{var i=function(e){var t,n="?",r={co:!0,cx:!0},i=!0;for(t in e)e.hasOwnProperty(t)&&!r.hasOwnProperty(t)&&(i?i=!1:n+="&",n+=encodeURIComponent(t)+"="+encodeURIComponent(e[t]));for(var o in r)e.hasOwnProperty(o)&&r.hasOwnProperty(o)&&(n+="&"+o+"="+encodeURIComponent(e[o]));return n}(e),c=l();if(0<c){var u=_(x(i));if(u>=c){ez.warn("Event ("+u+"B) too big, max is "+c),B&&(C([(e=b(e)).evt]),k(e,t+o));return}}P.push(i)}t=!1,r&&(t=q(V,JSON.stringify(P.slice(-1*s())))),!D&&-1===U&&t&&(U=window.setTimeout(E,w()+Math.floor(5e3*Math.random()))),D||!(!t||!p()||H&&(H?P.reduce(function(e,t){return e+t.bytes},0):P.reduce(function(e,t){return e+t.length},0))>m()||P.length>a||n)||E()}},executeQueue:function(){D||E()},setUseLocalStorage:function(e){r=e},setAnonymousTracking:function(e){d=e},setCollectorUrl:function(e){L=e+F},setBufferSize:function(e){a=e},setCustomHeaders:function(e){f=e}}}(e,a,"localStorage"==eC||"cookieAndLocalStorage"==eC,c.eventMethod,th,null!=(eN=(eO=eI.getConfig()).bufferSize?eO.bufferSize:c.bufferSize)?eN:20,function(){var e,t=eI.getConfig();return null!=(e=t.maxGetBytes?t.maxGetBytes:c.maxGetBytes)?e:0},null==(eT=c.useStm)||eT,function(){var e,t=eI.getConfig();return null!=(e=t.maxLocalStorageQueueSize?t.maxLocalStorageQueueSize:c.maxLocalStorageQueueSize)?e:10},null!=(eS=c.connectionTimeout)?eS:3e4,eE,null!=(eA=c.customHeaders)?eA:{},null!=(ex=c.withCredentials)&&ex,5e3,function(){var e,t,n,r=eI.getConfig();return null!=(n=(null==r?0:r.enc)?r.enc:null==(t=null==(e=null==c?void 0:c.configs)?void 0:e.network)?void 0:t.encoding)?n:rd.GZIP},eR,function(){var e,t,n=eI.getConfig();return eR()?"number"==typeof(null==(t=null==(e=n.emitterConfiguration)?void 0:e.batching)?void 0:t.byteLimitPostInKB)?1e3*n.emitterConfiguration.batching.byteLimitPostInKB:25e4:4e4},function(){var e,t,n=null==(t=null==(e=eI.getConfig().emitterConfiguration)?void 0:e.batching)?void 0:t.batchingIntervalInSec;return 1e3*("number"==typeof n?n:5)},tl)),tq=!1,tB=!1,tH={enabled:!0,installed:!1,configurations:{pagePing:{configMinimumVisitLength:5e3,configHeartBeatTimer:1e3*ey.periodicHeartbeatInterval,callback:ec}}},tF=!1;c.hasOwnProperty("discoverRootDomain")&&c.discoverRootDomain&&(tE=function(e,t){for(var n=window.location.hostname,r="_cnv_root_domain_test_"+(new Date).getTime(),i="_test_value_"+(new Date).getTime(),o=n.split("."),a=o.length-1;0<=a;){var l=o.slice(a,o.length).join(".");if(F(r,i,0,"/",l,e,t),F(r)===i){for(H(r,l,e,t),n=document.cookie.split("; "),r=[],i=0;i<n.length;i++)"_cnv_root_domain_test_"===n[i].substring(0,22)&&r.push(n[i]);for(n=r,r=0;r<n.length;r++)H(n[r],l,e,t);return l}--a}return n}(tS,tA)),tc.setTrackerVersion(o),tc.setAppId(tp),tc.setPlatform(tv),m(),R(),tG.setCustomHeaders({"x-client-id":""+e3}),c.crossDomainLinker&&v(c.crossDomainLinker);var tj={getDomainSessionIndex:function(){return tz},getPageViewId:function(){return ee()},newSession:function(){var e=N();"0"===e[0]?(ti="none"!=tD?Q(e):e[6],tz=e[3],T()):ti=Q(e,++tz),Z(e),"none"!=tD&&(S(e),T()),tU=(new Date).getTime()},getCookieName:function(e){return tC+e+"."+tn},getUserId:function(){return to},getDomainUserId:function(){var e=N();return e&&1<e.length?e[1]:null},getDomainUserInfo:function(){return N()},setReferrerUrl:function(e){e$=e},setCustomUrl:function(e){d();var t,n=td;e0=h(e)?e:"/"===e.slice(0,1)?h(n)+"://"+D(n)+e:(0<=(t=(n=g(n)).indexOf("?"))&&(n=n.slice(0,t)),(t=n.lastIndexOf("/"))!==n.length-1&&(n=n.slice(0,t+1)),n+e)},setDocumentTitle:function(e){t_=document.title,e1=e},discardHashTag:function(e){e2=e},discardBrace:function(e){e6=e},setCookiePath:function(e){tT=e,m()},setVisitorCookieTimeout:function(e){tR=e},crossDomainLinker:function(e){v(e)},enableActivityTracking:function(e){tH.configurations.pagePing||(tH.enabled=!0,tH.configurations.pagePing=ea(em(em({},e),{callback:ec})))},enableActivityTrackingCallback:function(e){tH.configurations.callback||(tH.enabled=!0,tH.configurations.callback=ea(e))},updatePageActivity:function(){w()},setOptOutCookie:function(e){e5=e},setUserId:function(e){to=e},setUserIdFromLocation:function(e){d(),to=G(e,td)},setUserIdFromReferrer:function(e){d(),to=G(e,tf)},setUserIdFromCookie:function(e){to=F(e)},setCollectorUrl:function(e,t){tg=K(e,t),tG.setCollectorUrl(tg)},setBufferSize:function(e){tG.setBufferSize(e)},flushBuffer:function(e){void 0===e&&(e={}),tG.executeQueue(),e.newBufferSize&&tG.setBufferSize(e.newBufferSize)},trackPageView:function(e){void 0===e&&(e={}),function(){var e,t,r,i,o,a,l,s,d,f,v,g,h,p,m,w,y,b,_,k,C,E,T,S,A,x,I,R,N,O,L,M,D;try{var P=null==(e=null==u?void 0:u.core)?void 0:e.getConfig();e=void 0,tb={};var U=rF.MERGE;switch(void 0!==(null==(r=null==(t=null==c?void 0:c.configs)?void 0:t.metaTagsTracking)?void 0:r.preference)?U=null==(o=null==(i=null==c?void 0:c.configs)?void 0:i.metaTagsTracking)?void 0:o.preference:!0===(null==(l=null==(a=null==c?void 0:c.configs)?void 0:a.metaTagsTracking)?void 0:l.force)?U=rF.APP:void 0!==(null==(s=null==P?void 0:P.metaTagsTrackingConfiguration)?void 0:s.pref)&&(U=null==(d=null==P?void 0:P.metaTagsTrackingConfiguration)?void 0:d.pref),U){case rF.APP:if(!1===(null==(v=null==(f=null==c?void 0:c.configs)?void 0:f.metaTagsTracking)?void 0:v.enabled))return;0<(null==(p=null==(h=null==(g=null==c?void 0:c.configs)?void 0:g.metaTagsTracking)?void 0:h.tags)?void 0:p.length)&&(e=n([],null==(w=null==(m=null==c?void 0:c.configs)?void 0:m.metaTagsTracking)?void 0:w.tags,!0));break;case rF.REMOTE:if(!1===(null==(y=null==P?void 0:P.metaTagsTrackingConfiguration)?void 0:y.enabled))return;void 0!==(null==P?void 0:P.metaTagsTrackingConfiguration)&&0<(null==(_=null==(b=null==P?void 0:P.metaTagsTrackingConfiguration)?void 0:b.tags)?void 0:_.length)&&(e=n([],null==(k=null==P?void 0:P.metaTagsTrackingConfiguration)?void 0:k.tags,!0));break;default:if(void 0===(null==P?void 0:P.metaTagsTrackingConfiguration)&&!1===(null==(E=null==(C=null==c?void 0:c.configs)?void 0:C.metaTagsTracking)?void 0:E.enabled)||void 0===(null==(T=null==c?void 0:c.configs)?void 0:T.metaTagsTracking)&&!1===(null==(S=null==P?void 0:P.metaTagsTrackingConfiguration)?void 0:S.enabled))return;var z=null==(x=null==(A=null==c?void 0:c.configs)?void 0:A.metaTagsTracking)?void 0:x.tags,G=null==(I=null==P?void 0:P.metaTagsTrackingConfiguration)?void 0:I.tags;!1===(null==(N=null==(R=null==c?void 0:c.configs)?void 0:R.metaTagsTracking)?void 0:N.enabled)&&(z=[]),!1===(null==(O=null==P?void 0:P.metaTagsTrackingConfiguration)?void 0:O.enabled)&&(G=[]),e=n([],(D=G||[],n(n([],z||[],!0),D,!0).reduce(function(e,t){var r=e.find(function(e){return e.key===t.key});return r?t.condition&&(r.condition=n(n([],r.condition||[],!0),t.condition,!0)):e.push(em({},t)),e},[])),!0)}if(void 0!==e&&0<(null==e?void 0:e.length)){t={};var q=null==document?void 0:document.head,B=null==q?void 0:q.getElementsByTagName("meta");if(void 0!==B&&0<(null==B?void 0:B.length))for(q=0;q<B.length;q++){var H=B[q];for(r=0;r<e.length;r++){var F=H.getAttribute(e[r].key),j=H.getAttribute(e[r].value);i=void 0,(null==(L=e[r])?0:L.condition)&&(i=null==(M=e[r])?void 0:M.condition),F&&(i&&i.includes(F)?t[F]=j:i&&0!==i.length||(t[F]=j))}}u.setMetaCustomTags(t)}}catch(e){console.warn("Conviva App Tracker:: setPageMetaTagsAsCustomTags",e)}}();var t,r=null==(t=null==u?void 0:u.core)?void 0:t.getConfig();try{e=em(em({},e),{context:$(null==r?void 0:r.performanceContextConfig).contexts()})}catch(e){console.warn("Conviva App Tracker:: error adding performacetiming context to page view",e)}!function(e){var t,n,r,o,a=e.title,l=e.context,c=e.timestamp;if(e=e.contextCallback,d(),tB&&X(),tB=!0,t_=document.title,a=M((e1=a)||t_),tl()!==n2.SAMPLING_MODES.NONE&&(es(),tc.track((n=(t={pageUrl:g(e0||td),pageTitle:a,referrer:g(e$||tf)}).pageUrl,r=t.pageTitle,t=t.referrer,(o=i()).add("e","pv"),o.add("url",n),o.add("page",r),o.add("refr",t),o),(l||[]).concat(e?e():[]),c)),c=new Date,a=!1,tH.enabled&&!tH.installed){a=tH.installed=!0;var s={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0},set:function(){}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),s.hasSupport=e}}};s.update();var f="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";Object.prototype.hasOwnProperty.call(s,"hasSupport")?z(document,f,w,{passive:!0}):z(document,f,w),E(),f=function(e,t){return void 0===t&&(t=w),function(e){return z(document,e,t)}},"click mouseup mousedown mousemove keypress keydown keyup".split(" ").forEach(f(document)),["resize","focus","blur"].forEach(f(window)),f(window,y)("scroll")}if(tH.enabled&&(tk||a))for(c in e8=c.getTime(),c=void 0,tH.configurations)(a=tH.configurations[c])&&(window.clearInterval(a.activityInterval),function(e,t,n){var r=function(t,n){d();var r,o=null==(r=null==u?void 0:u.core)?void 0:r.getConfig();o.enablePeriodicHeartbeat?(null!=o.periodicHeartbeatInterval&&(r=1e3*o.periodicHeartbeatInterval)!=e.configHeartBeatTimer&&(e.configHeartBeatTimer=r,window.clearInterval(e.activityInterval),e.activityInterval=window.setInterval(i,r)),t({context:n,pageViewId:ee(),minXOffset:e9,minYOffset:te,maxXOffset:e7,maxYOffset:tt})):window.clearInterval(e.activityInterval),E()};window.setTimeout(function(){r(e.callback,(t||[]).concat(n?n():[]))},2e3);var i=function(){var i=new Date;(!1===(null==document?void 0:document.hidden)||"visible"==(null==document?void 0:document.visibilityState)||(null==document?0:document.pictureInPictureElement)||e8+e.configHeartBeatTimer>i.getTime()||!0===tF)&&r(e.callback,(t||[]).concat(n?n():[]))};e.activityInterval=window.setInterval(i,e.configHeartBeatTimer)}(a,l,e))}(e)},trackVideoEvent:function(e){var t,n,r,i,o;void 0===e&&(e={});try{var a=null==(t=null==u?void 0:u.core)?void 0:t.getConfig();if(null!=(r=null==(n=null==a?void 0:a.customEventTrackingConfiguration)?void 0:n.enabled)?r:rv.customEventTrackingConfiguration.enabled){""!=e.name&&null!=e.name||console.warn("Conviva App Tracker:: Video event could not be tracked due to missing name property!!");var l,c=null==(i=null==a?void 0:a.customEventTrackingConfiguration)?void 0:i.blocklist;(null==c?0:c.includes("*"))||(null==c?0:c.some(function(t){return 0<(null==t?void 0:t.length)&&e.name.toLowerCase().includes(t.toLowerCase())}))||null==(o=null==u?void 0:u.core)||o.track((l={name:e.name,sid:e.sid,iid:e.iid,clid:e.clid,st:e.st,sst:e.sst,an:e.an,cl:e.cl,lv:e.lv,pn:e.pn,vid:e.vid,fw:e.fw,fwv:e.fwv,mn:e.mn,mv:e.mv,url:e.url,tags:e.tags,cen:e.cen,ced:e.ced,oldsc:e.old,newsc:e.new,err:e.err,br:e.br,ft:e.ft,avgbr:e.avgbr},_({event:{sc:"cv/ve/1-0-5",dt:C({name:l.name,sid:l.sid,iid:l.iid,clid:l.clid,st:l.st,sst:l.sst,an:l.an,cl:l.cl,lv:l.lv,pn:l.pn,vid:l.vid,fw:l.fw,fwv:l.fwv,mn:l.mn,mv:l.mv,url:l.url,tags:l.tags,cen:l.cen,ced:l.ced,oldsc:l.oldsc,newsc:l.newsc,err:l.err,br:l.br,ft:l.ft,avgbr:l.avgbr})}})),e.context,e.timestamp)}}catch(e){console.warn("Conviva App Tracker:: Video event could not be tracked due to an exception!!",e)}},trackCustomEvent:function(e){var t,n,r,i,o;void 0===e&&(e={});try{if(tl()!==n2.SAMPLING_MODES.NONE){var a=null==(t=null==u?void 0:u.core)?void 0:t.getConfig();if(null!=(r=null==(n=null==a?void 0:a.customEventTrackingConfiguration)?void 0:n.enabled)?r:rv.customEventTrackingConfiguration.enabled){if(!e.name||"string"==typeof e.name&&""==e.name.trim())return void console.warn("Conviva App Tracker:: custom event name is mandatory for trackCustomEvent API!!");var l=e.data;try{"string"!=typeof e.data&&(l=JSON.stringify(e.data))}catch(e){}var c=null==(i=null==a?void 0:a.customEventTrackingConfiguration)?void 0:i.blocklist;(null==c?0:c.includes("*"))||(null==c?0:c.some(function(t){return 0<(null==t?void 0:t.length)&&e.name.toLowerCase().includes(t.toLowerCase())}))||null==(o=null==u?void 0:u.core)||o.track(k({name:e.name,data:l}),e.context,e.timestamp)}}}catch(e){console.warn("Conviva App Tracker:: Unable to track custom event! "+e)}},trackSSEEvent:function(e){var t;void 0===e&&(e={});try{tl()===n2.SAMPLING_MODES.NONE||null!=(t=null==u?void 0:u.core)&&t.track(k(e),e.context,e.timestamp)}catch(e){}},trackNetworkRequest:function(e){var t,n,r,i,o,a,l,c,s,d,f,v;void 0===e&&(e={});try{var g=null==(r=null==u?void 0:u.core)?void 0:r.getConfig().networkRequestTrackingConfiguration,h=e.responseDetails.responseTime-e.requestDetails.requestTime;try{h=parseFloat(h.toFixed(3))}catch(e){console.warn("Conviva App Tracker:: exception while converting duration to 3 decimal",e)}try{var p=J(((t={targetUrl:null==(i=null==e?void 0:e.requestDetails)?void 0:i.url,method:null==(o=null==e?void 0:e.requestDetails)?void 0:o.method,responseStatusCode:(null==(a=null==e?void 0:e.responseDetails)?0:a.status)?e.responseDetails.status:0,responseStatusText:(null==(l=null==e?void 0:e.responseDetails)?0:l.statusText)?e.responseDetails.statusText:"ok"})[ri.request_headers]=null==(c=null==e?void 0:e.requestDetails)?void 0:c.headers,t[ri.response_headers]=null==(s=null==e?void 0:e.responseDetails)?void 0:s.headers,t.duration=h,t),null==g?void 0:g.collectattr,e,null==g?void 0:g.maxQueryLength);if(null==(d=null==e?void 0:e.requestDetails)?0:d[n2.TRACEPARENT_HEADER_KEY]){var m=((n={})[n2.TRACEPARENT_HEADER_KEY]=null==(f=null==e?void 0:e.requestDetails)?void 0:f[n2.TRACEPARENT_HEADER_KEY],n);p[ri.request_headers]?p[ri.request_headers]=em(em({},p[ri.request_headers]),m):p[ri.request_headers]=m}null==(v=null==u?void 0:u.core)||v.track(_({event:{sc:"cv/nr/1-0-5",dt:C({targetUrl:p.targetUrl,method:p.method,queryParameters:p.queryParameters,responseStatusCode:p.responseStatusCode,responseStatusText:p.responseStatusText,rqh:p.rqh,rsh:p.rsh,rqb:p.rqb,rsb:p.rsb,rqq:p.rqq,requestSize:p.requestSize,responseSize:p.responseSize,duration:p.duration,contentType:p.contentType,requestTimestamp:p.requestTimestamp,responseTimestamp:p.responseTimestamp})}}),e.context,e.timestamp)}catch(e){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",e)}}catch(e){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",e)}},trackButtonClick:function(e){var t,n,r;try{var i=null==(t=null==rE?void 0:rE.core)?void 0:t.getConfig();!0===(null==(n=null==i?void 0:i.clickcc)?void 0:n.en)&&(e.elementType="button",null==(r=null==rE?void 0:rE.core)||r.track(k({name:"conviva_click",data:JSON.stringify(e)}),l(void 0,void 0)))}catch(e){ez.warn("Conviva App Tracker caused Exception in sendButtonClick method of user click tracking module",e)}},trackLinkClick:function(e){var t,n,r;try{var i=null==(t=null==rE?void 0:rE.core)?void 0:t.getConfig();!0===(null==(n=null==i?void 0:i.clickcc)?void 0:n.en)&&(e.elementType="link",null==(r=null==rE?void 0:rE.core)||r.track(k({name:"conviva_click",data:JSON.stringify(e)}),l(void 0,void 0)))}catch(e){ez.warn("Conviva App Tracker caused Exception in sendLinkClick method of user click tracking module",e)}},trackErrorEvent:function(e){eg(e)},setCustomTags:function(e){void 0===e&&(e={}),ei(e)},setMetaCustomTags:function(e){void 0===e&&(e={});var t=e;try{var n=Object.keys(t);er(JSON.stringify(t))?n.forEach(function(e){""!==e&&Object.defineProperty(tb,e,{value:""+t[e],writable:!0,enumerable:!0,configurable:!0})}):console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=")}catch(e){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",e)}},unsetCustomTags:function(e){void 0===e&&(e=[]),eo(e)},preservePageViewId:function(){tq=!0},disableAnonymousTracking:function(e){c.anonymousTracking=!1,I(e),R(),tG.executeQueue()},enableAnonymousTracking:function(e){var t;c.anonymousTracking=null==(t=e&&(null==e?void 0:e.options))||t,I(e),tO||X()},clearUserData:x,setKeepAliveInBG:function(e){void 0===e&&(e=!1),tF=e},clearTimers:function(){rf=null,tV.cleanupNetworkRequestHandler();try{rB=u,removeEventListener("error",ef,!0),removeEventListener("unhandledrejection",ev,!0)}catch(e){console.warn("Conviva App Tracker caused Exception in disableErrorTracking method of error tracking module",e)}if(ed(),null==ep||ep.abort(),ro=n6=void 0,rK&&window.clearInterval(rK),tH.enabled){var e=void 0;for(e in tH.configurations){var t=tH.configurations[e];t&&window.clearInterval(t.activityInterval)}}u&&(u.core=null),this.tracker=null},getSamplingMode:tl,getPageViewSent:function(){return tB}};rq=tj;var tV=r0.getInstance(tj,c,tl);return tV.initiateNetworkRequestTracking(),em(em({},tj),{id:e,namespace:r,core:tc,sharedState:a})}(a,"CAT",r,d,c),u=em(em({},a),{addPlugin:function(e){var t,n,r;null==(t=null==u?void 0:u.core)||t.addPlugin(e),null==(r=(n=e.plugin).activateBrowserPlugin)||r.call(n,u)}}),s.forEach(function(e){var t;null==(t=e.activateBrowserPlugin)||t.call(e,u)}),function(e,t){var n;if(void 0===t&&(t=!0),!1!==t)try{var r=0,i=0;if("complete"===document.readyState){var o=null==(n=null==e?void 0:e.core)?void 0:n.getConfig();null==e||e.trackCustomEvent({name:"conviva_window_loaded",data:"{}",context:$(null==o?void 0:o.performanceContextConfig).contexts()})}else null==window||window.addEventListener("load",function(){var t;try{var n=null==(t=null==e?void 0:e.core)?void 0:t.getConfig();null==e||e.trackCustomEvent({name:"conviva_window_loaded",data:"{}",context:$(null==n?void 0:n.performanceContextConfig).contexts()})}catch(e){console.warn("ConvivaAppTracker : issue while registering window loaded event",e)}},{signal:ro});null==document||document.addEventListener("visibilitychange",function(){var t,n;try{if((null==e?void 0:e.getSamplingMode())!==n2.SAMPLING_MODES.NONE)if("hidden"===document.visibilityState)setTimeout(function(){var t,n;try{var r=null==(t=null==e?void 0:e.core)?void 0:t.getConfig();i++,(null==r?0:r.lifecycleAutotracking)&&(null==(n=null==e?void 0:e.core)||n.track(_({event:{sc:"sp/abg/1-0-0",dt:C({backgroundIndex:i})}}))),"hidden"!==document.visibilityState||(null==e?0:e.getPageViewSent())||null==e||e.trackCustomEvent({name:"conviva_app_backgrnd_before_page_view",data:"{}"})}catch(e){console.warn("ConvivaAppTracker : issue while tracking visibility change",e)}},0);else{var o=null==(t=null==e?void 0:e.core)?void 0:t.getConfig();r++,(null==o?0:o.lifecycleAutotracking)&&(null==(n=null==e?void 0:e.core)||n.track(_({event:{sc:"sp/afg/1-0-0",dt:C({foregroundIndex:r})}})))}}catch(e){console.warn("convivaAppTracker visibilitychange failed "+e)}},{signal:ro}),"undefined"!=typeof document&&document&&document.addEventListener&&document.addEventListener("convivaVideoEvent",function(t){t&&e&&(null==e?void 0:e.getSamplingMode())!==n2.SAMPLING_MODES.NONE&&(null==e||e.trackVideoEvent(t))},{signal:ro})}catch(e){console.warn("convivaAppTracker error in page load metrics"+e)}}(u,null==c?void 0:c.enableCommonEvents),function(e){try{rB=e;try{var t,n,r,i,o,a,l,c=null==(t=null==rB?void 0:rB.core)?void 0:t.getConfig(),s=null==(r=null==(n=null==c?void 0:c.collectionRateLimit)?void 0:n.exceptionAutotracking)?void 0:r.maxEvents,u=null==(o=null==(i=null==c?void 0:c.collectionRateLimit)?void 0:i.exceptionAutotracking)?void 0:o.disconnectDuration,d=null==(l=null==(a=null==c?void 0:c.collectionRateLimit)?void 0:a.exceptionAutotracking)?void 0:l.timeWindow;rH=new r1(s,u,d,null==rB?void 0:rB.core,null==rB?void 0:rB.getSamplingMode)}catch(e){console.warn("Conviva App Tracker caused Exception in initialiseRateLimiter method of error tracking module",e)}(null==window?0:window.addEventListener)&&window.addEventListener("RemoteConfigUpdateApplied",function(){var e,t,n,r,i,o,a,l=null==(e=null==rB?void 0:rB.core)?void 0:e.getConfig();e=null==(n=null==(t=null==l?void 0:l.collectionRateLimit)?void 0:t.exceptionAutotracking)?void 0:n.maxEvents,t=null==(i=null==(r=null==l?void 0:l.collectionRateLimit)?void 0:r.exceptionAutotracking)?void 0:i.disconnectDuration,r=null==(a=null==(o=null==l?void 0:l.collectionRateLimit)?void 0:o.exceptionAutotracking)?void 0:a.timeWindow,null==rH||rH.updateErrortRateLimitConfig(e,t,r)},{signal:ro}),z(window,"error",ef,!0),z(window,"unhandledrejection",ev,!0)}catch(e){console.warn("Conviva App Tracker caused Exception in enableErrorTracking method of error tracking module",e)}}(u),rE=u,u),r6.CAT)}catch(e){return void console.warn("Conviva App Tracker:: Initialisation failed! "+e)}},e.getClientId=function(){if("undefined"!=typeof window&&(null==window?0:window.localStorage)){var e=window.localStorage.getItem("Conviva.sdkConfig");return"{}"===(e=JSON.parse(e||"{}"))||void 0===e?"":e.clId}return""},e.setClientId=function(e){if(e&&"string"==typeof e)try{var t=e.split(".");if(4!==t.length)return void console.warn('Conviva App Tracker:: Invalid clientId format! It should be in the format of "x.x.x.x"');if(!1===t.every(function(e){return/^\d+$/.test(e)}))return void console.warn("Conviva App Tracker:: Invalid clientId format! Every part of clientId should be numeric");if("undefined"!=typeof window&&(null==window?0:window.localStorage)){var n=window.localStorage,r=n.getItem("Conviva.sdkConfig"),i=JSON.parse(r||"{}");"{}"===i||void 0===i?i={clId:e}:i.clId=e;var o=JSON.stringify(i);n.setItem("Conviva.sdkConfig",o)}else console.warn("Conviva App Tracker:: window or local storage is not available")}catch(e){console.warn(e)}else console.warn("Conviva App Tracker:: Unable to set clinetId string!")},e.setCustomTags=function(e,t){eh(t,function(t){try{t.setCustomTags(e)}catch(e){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}})},e.setCustomUrl=function(e,t){eh(t,function(t){t.setCustomUrl(e)})},e.setDocumentTitle=function(e,t){eh(t,function(t){t.setDocumentTitle(e)})},e.setReferrerUrl=function(e,t){eh(t,function(t){t.setReferrerUrl(e)})},e.setUserId=function(e,t){eh(t,function(t){t.setUserId(e)})},e.trackButtonClick=function(e,t){eh(t,function(t){try{t.trackButtonClick(e)}catch(e){console.warn("Conviva App Tracker:: Unable to track button click event! "+e)}})},e.trackCustomEvent=function(e,t){eh(t,function(t){try{t.trackCustomEvent(e)}catch(e){console.warn("Conviva App Tracker:: Unable to track custom event! "+e)}})},e.trackError=function(e,t){eh(t,function(t){try{t.trackErrorEvent(e)}catch(e){console.warn("Conviva App Tracker:: Unable to track error!")}})},e.trackLinkClick=function(e,t){eh(t,function(t){try{t.trackLinkClick(e)}catch(e){console.warn("Conviva App Tracker:: Unable to track link click event! "+e)}})},e.trackPageView=function(e,t){eh(t,function(t){t.trackPageView(e)})},e.unsetCustomTags=function(e,t){eh(t,function(t){try{t.unsetCustomTags(e)}catch(e){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}})},e.version="1.3.2",Object.defineProperty(e,"__esModule",{value:!0})})(t)}}]);